{"id":"oaks-00x","title":"Add licensing to Sources","description":"Add license tracking for data sources. When publishing data from a Source, need to assign and display appropriate licenses. Key concerns: (1) Honor licenses of external sources (Oaks of the World, iNaturalist, etc.), (2) Protect user's own preferred source data for eventual book publication, (3) Display license info in web app. Involves: researching source licenses, adding license fields to data model, updating CLI and web display.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T12:22:03.719103-05:00","updated_at":"2025-12-19T16:32:42.850613-05:00","closed_at":"2025-12-19T16:32:42.850613-05:00"}
{"id":"oaks-07sg","title":"iOS: Note editor view","description":"Build NoteEditorView with field buttons. FieldButtonGrid triggering dictation. Species name input, hybrid toggle. Auto-save on changes.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T16:05:56.001542-05:00","updated_at":"2025-12-27T16:05:56.001542-05:00","dependencies":[{"issue_id":"oaks-07sg","depends_on_id":"oaks-7040","type":"blocks","created_at":"2025-12-27T16:06:05.064472-05:00","created_by":"daemon"}]}
{"id":"oaks-0e8","title":"Add statistics command to CLI","description":"","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-14T19:16:00.587531-05:00","updated_at":"2025-12-23T18:52:44.025852-05:00"}
{"id":"oaks-0kb","title":"Ensure keyboard navigation works throughout app","description":"Audit and fix keyboard navigation: all interactive elements must be focusable and operable with keyboard only. Tab order should be logical. Custom components (dropdowns, modals) need proper keyboard handling.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:41.582226-05:00","updated_at":"2025-12-23T18:59:59.528833-05:00","closed_at":"2025-12-23T18:59:59.528833-05:00"}
{"id":"oaks-0mo","title":"Create GitHub Actions deploy workflow","description":"Create .github/workflows/deploy.yml that builds the web app and deploys to GitHub Pages on push to main. Use actions/checkout, actions/setup-node, and peaceiris/actions-gh-pages.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:16:16.928775-05:00","updated_at":"2025-12-16T12:49:41.366437-05:00","closed_at":"2025-12-16T12:49:41.366437-05:00"}
{"id":"oaks-0om","title":"Update service worker to cache SQLite database","description":"","notes":"Obsolete - abandoned SQLite WASM approach in favor of IndexedDB","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:23:06.124819-05:00","updated_at":"2025-12-14T20:17:16.446688-05:00","closed_at":"2025-12-14T15:41:40.09483-05:00","dependencies":[{"issue_id":"oaks-0om","depends_on_id":"oaks-2qj","type":"blocks","created_at":"2025-12-14T14:23:15.518848-05:00","created_by":"daemon"}]}
{"id":"oaks-0qt","title":"Implement Markdown frontmatter parser in CLI","description":"Create a parser that handles Markdown with YAML frontmatter format:\n- Parse YAML frontmatter (between --- markers)\n- Parse ## Section headers and map to database fields\n- Handle section-to-field mapping (case-insensitive)\n- Generate template in new format\n- Change temp file extension to .md for syntax highlighting","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T10:24:48.244715-05:00","updated_at":"2025-12-19T12:20:12.085016-05:00","closed_at":"2025-12-19T12:20:12.085016-05:00","dependencies":[{"issue_id":"oaks-0qt","depends_on_id":"oaks-791","type":"blocks","created_at":"2025-12-19T10:24:57.41443-05:00","created_by":"daemon"}]}
{"id":"oaks-0vt","title":"Add metadata/versioning to CLI JSON export","description":"The CLI export command produces JSON without a metadata section. The web app's IndexedDB caching uses metadata.version to detect updates, but currently gets synthetic '1.0-legacy' version every time, so updates are never detected. Need to add metadata section with version (timestamp or hash), exported_at, and species_count to the export output.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T18:15:42.15763-05:00","updated_at":"2025-12-15T21:45:04.764226-05:00","closed_at":"2025-12-15T21:45:04.764226-05:00"}
{"id":"oaks-0xw","title":"Support reduced motion preferences","description":"Respect prefers-reduced-motion media query. Disable or reduce animations/transitions for users who have enabled reduced motion in their OS settings.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:57.987401-05:00","updated_at":"2025-12-23T18:59:59.529392-05:00","closed_at":"2025-12-23T18:59:59.529392-05:00"}
{"id":"oaks-15m2","title":"Extract duplicate code patterns in Go CLI","description":"1) Seven identical merge loops in import_bulk.go (lines 196-266) - extract mergeStringLists() helper. 2) Repeated unmarshal+nil-check pattern in db.go - extract unmarshalJSONArray() helper. 3) Inconsistent *string vs sql.NullString conversions - standardize.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T14:48:09.030425-05:00","updated_at":"2025-12-27T14:48:09.030425-05:00"}
{"id":"oaks-1hy","title":"Design scraper output format to match unified schema","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:13:34.971498-05:00","updated_at":"2025-12-14T20:20:26.316468-05:00","closed_at":"2025-12-14T20:20:26.316468-05:00","dependencies":[{"issue_id":"oaks-1hy","depends_on_id":"oaks-e85","type":"blocks","created_at":"2025-12-14T14:13:53.241871-05:00","created_by":"daemon"}]}
{"id":"oaks-1i43","title":"Fix author name parsing edge cases","description":"name_parser.py lines 219-244: Complex author names like 'Morrison, non C.A.Mey.' get mangled. Uses naive split() without handling quoted/parenthetical names. Need proper tokenization.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-27T14:48:09.251634-05:00","updated_at":"2025-12-27T14:48:09.251634-05:00"}
{"id":"oaks-1i8","title":"Implement source comparison view","description":"Build the component showing two sources side-by-side for a species. Display all fields from both sources in a comparable format.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:15.14032-05:00","updated_at":"2025-12-23T19:37:42.677637-05:00","closed_at":"2025-12-23T19:37:42.67764-05:00","dependencies":[{"issue_id":"oaks-1i8","depends_on_id":"oaks-p2o","type":"blocks","created_at":"2025-12-16T10:45:30.226347-05:00","created_by":"daemon"}]}
{"id":"oaks-1p3","title":"Remove legacy DB migration code once schema is stable","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:55:59.635216-05:00","updated_at":"2025-12-19T15:53:27.60129-05:00","closed_at":"2025-12-19T15:53:27.60129-05:00"}
{"id":"oaks-1tc","title":"Design species_sources junction table schema","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:51:08.635708-05:00","updated_at":"2025-12-15T14:54:00.977095-05:00","closed_at":"2025-12-15T14:54:00.977095-05:00"}
{"id":"oaks-1tz","title":"Improve web app design and UI polish","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:10:19.74211-05:00","updated_at":"2025-12-14T14:10:19.74211-05:00"}
{"id":"oaks-1woa","title":"Add Content Security Policy headers","description":"MEDIUM: Web app lacks CSP headers. Add headers to restrict script sources and mitigate XSS impact. Configure in deployment.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T14:21:58.42866-05:00","updated_at":"2025-12-27T14:21:58.42866-05:00"}
{"id":"oaks-22c","title":"Add taxonomyTree derived store to dataStore.js","description":"Create derived store that transforms flat species array into nested taxonomy hierarchy.\n\n**Code pattern:**\n```javascript\nexport const taxonomyTree = derived(allSpecies, ($allSpecies) =\u003e {\n  const tree = {};\n  for (const species of $allSpecies) {\n    // Group by subgenus → section → subsection → complex\n    // Handle null values for missing intermediate levels\n  }\n  return tree;\n});\n```\n\n**Data Structure:**\n```javascript\n{\n  'Quercus': {\n    count: 274,\n    sections: {\n      'Lobatae': {\n        count: 123,\n        subsections: {\n          null: { complexes: { null: { species: [...] } } },  // no subsection\n          'Phellos': { count: 13, complexes: { ... } }\n        }\n      }\n    }\n  }\n}\n```\n\n**Key decisions:**\n- Use null keys to group species that skip intermediate levels (subsection/complex)\n- Sort subgenera with 'Unknown' last\n- Computed client-side (673 species is trivial)\n\n**File:** web/src/lib/dataStore.js (add after speciesCounts)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:55:21.113057-05:00","updated_at":"2025-12-15T12:04:36.367372-05:00","closed_at":"2025-12-15T12:04:36.367372-05:00"}
{"id":"oaks-2f7","title":"Update scraper to output schema-compatible format","description":"Modify scraper to output JSON matching export_schema.json, or create transformation script. Schema is defined in cli/schema/export_schema.json.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T16:46:09.246499-05:00","updated_at":"2025-12-14T20:23:23.242505-05:00","closed_at":"2025-12-14T20:23:23.242505-05:00","dependencies":[{"issue_id":"oaks-2f7","depends_on_id":"oaks-1hy","type":"blocks","created_at":"2025-12-14T16:51:25.213896-05:00","created_by":"daemon"}]}
{"id":"oaks-2fz","title":"Add Source pages to the site","description":"Add dedicated Source pages to the web app. Sources should be browsable from the landing page, searchable from main search (with result type differentiation), and have detail pages showing full metadata plus coverage summary with expandable species lists.","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-12-20T10:56:14.125688-05:00","updated_at":"2025-12-23T18:54:05.713821-05:00","closed_at":"2025-12-23T18:54:05.713821-05:00","dependencies":[{"issue_id":"oaks-2fz","depends_on_id":"oaks-b14","type":"blocks","created_at":"2025-12-21T10:53:52.978677-05:00","created_by":"daemon"},{"issue_id":"oaks-2fz","depends_on_id":"oaks-5se","type":"blocks","created_at":"2025-12-21T10:53:53.090264-05:00","created_by":"daemon"},{"issue_id":"oaks-2fz","depends_on_id":"oaks-4uq","type":"blocks","created_at":"2025-12-21T10:53:53.194172-05:00","created_by":"daemon"},{"issue_id":"oaks-2fz","depends_on_id":"oaks-cpw","type":"blocks","created_at":"2025-12-21T10:53:53.305838-05:00","created_by":"daemon"},{"issue_id":"oaks-2fz","depends_on_id":"oaks-g0h","type":"blocks","created_at":"2025-12-21T10:53:53.41425-05:00","created_by":"daemon"}]}
{"id":"oaks-2gt","title":"Reconcile JSON export structure with UI rendering","description":"The JSON export structure (subsection, complex) doesn't fully match what the UI expects/renders (series, etc). Audit both sides and ensure consistency between the CLI export format and web app display logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:44:34.31974-05:00","updated_at":"2025-12-15T15:17:43.785179-05:00","closed_at":"2025-12-15T15:17:43.785179-05:00"}
{"id":"oaks-2qj","title":"Implement IndexedDB for offline data storage in web app","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:23:05.785614-05:00","updated_at":"2025-12-14T19:40:36.986106-05:00","closed_at":"2025-12-14T19:40:36.986106-05:00","dependencies":[{"issue_id":"oaks-2qj","depends_on_id":"oaks-j9s","type":"blocks","created_at":"2025-12-14T14:23:15.249999-05:00","created_by":"daemon"},{"issue_id":"oaks-2qj","depends_on_id":"oaks-t8h","type":"blocks","created_at":"2025-12-14T16:51:25.071622-05:00","created_by":"daemon"}]}
{"id":"oaks-2qm","title":"Implement SQLite to JSON export in CLI","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:13:35.130144-05:00","updated_at":"2025-12-15T11:01:46.837299-05:00","closed_at":"2025-12-15T11:01:46.837299-05:00","dependencies":[{"issue_id":"oaks-2qm","depends_on_id":"oaks-e85","type":"blocks","created_at":"2025-12-14T14:13:53.508283-05:00","created_by":"daemon"},{"issue_id":"oaks-2qm","depends_on_id":"oaks-e9p","type":"blocks","created_at":"2025-12-14T14:13:53.638805-05:00","created_by":"daemon"}]}
{"id":"oaks-2zrz","title":"Fix race condition in web dataStore.js","description":"loadSpeciesData() starts background update without awaiting. If initial load is slow and update completes faster, version mismatch possible. Add semaphore flag to prevent concurrent updates.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:48:08.566486-05:00","updated_at":"2025-12-27T16:35:48.440066-05:00","closed_at":"2025-12-27T16:35:48.440066-05:00"}
{"id":"oaks-31a","title":"Update Go models and DB layer for species_sources","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:51:08.97521-05:00","updated_at":"2025-12-15T15:00:22.117038-05:00","closed_at":"2025-12-15T15:00:22.117038-05:00","dependencies":[{"issue_id":"oaks-31a","depends_on_id":"oaks-qhj","type":"blocks","created_at":"2025-12-15T14:51:18.159233-05:00","created_by":"daemon"}]}
{"id":"oaks-33g","title":"Update species detail page to match taxa detail page styling","description":"The species detail page should be updated to use the same breadcrumb navigation and top header formatting as the taxa detail pages for visual consistency across the app.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T14:45:02.437574-05:00","updated_at":"2025-12-20T14:57:53.566537-05:00","closed_at":"2025-12-20T14:57:53.566537-05:00"}
{"id":"oaks-3n6","title":"Refactor: move source helpers from db.js to separate utils module","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T16:13:44.458148-05:00","updated_at":"2025-12-17T15:28:02.712543-05:00","closed_at":"2025-12-17T15:28:02.712543-05:00"}
{"id":"oaks-3nk","title":"Integrate map into species detail view","description":"Add the map component to the species detail page, displaying highlighted range regions for the current species.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:14.771866-05:00","updated_at":"2025-12-16T10:45:14.771866-05:00","dependencies":[{"issue_id":"oaks-3nk","depends_on_id":"oaks-xb5","type":"blocks","created_at":"2025-12-16T10:45:30.056937-05:00","created_by":"daemon"},{"issue_id":"oaks-3nk","depends_on_id":"oaks-b8o","type":"blocks","created_at":"2025-12-16T10:45:30.088733-05:00","created_by":"daemon"}]}
{"id":"oaks-3sq","title":"Search doesn't work when viewing species detail page","description":"When navigating to a species detail page, the search input in the header doesn't function. Typing in the search box has no effect because the search results are not visible - the detail view is displayed instead of the species list. Need to either: (1) navigate back to the list view when search is activated, or (2) show search results in an overlay/dropdown.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T18:19:44.122711-05:00","updated_at":"2025-12-15T20:42:09.929321-05:00","closed_at":"2025-12-15T20:42:09.929321-05:00"}
{"id":"oaks-3v1","title":"Audit documentation for DB schema conformance","description":"Review all documentation (CLAUDE.md, web/CLAUDE.md, README.md, AGENTS.md) to ensure they accurately reflect:\n- Current database schema (oak_entries, taxa, sources, species_sources tables)\n- Correct table/column names\n- Current data flow architecture\n- Any outdated references to old schema designs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:08:14.228667-05:00","updated_at":"2025-12-15T17:25:11.459314-05:00","closed_at":"2025-12-15T17:25:11.459314-05:00"}
{"id":"oaks-3w0","title":"Set up dual-license structure (MIT code, protected data)","description":"Add licensing to the repository: (1) Add MIT LICENSE file for source code, (2) Add DATA_LICENSE file for data (All Rights Reserved or CC BY-NC-ND), (3) Update README with license section explaining the separation, (4) Add license headers/notices to data files (quercus_data.json, cli/data/*.yaml). This protects data for eventual book while keeping code open source.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:24:10.06544-05:00","updated_at":"2025-12-16T12:29:30.689554-05:00","closed_at":"2025-12-16T12:29:30.689554-05:00"}
{"id":"oaks-3y5u","title":"iOS: Notes list view","description":"Build NotesListView with navigation. Create/delete notes. Basic app shell working.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:05:55.559466-05:00","updated_at":"2025-12-27T16:55:42.679353-05:00","closed_at":"2025-12-27T16:55:42.679353-05:00","dependencies":[{"issue_id":"oaks-3y5u","depends_on_id":"oaks-jhat","type":"blocks","created_at":"2025-12-27T16:06:04.857918-05:00","created_by":"daemon"}]}
{"id":"oaks-4qf","title":"Push repository to GitHub","description":"Create GitHub repo and push the oaks codebase. Ensure .gitignore is correct and no sensitive data is included.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:16:17.094174-05:00","updated_at":"2025-12-16T12:29:30.690609-05:00","closed_at":"2025-12-16T12:29:30.690609-05:00","dependencies":[{"issue_id":"oaks-4qf","depends_on_id":"oaks-k7h","type":"blocks","created_at":"2025-12-16T12:16:26.702468-05:00","created_by":"daemon"},{"issue_id":"oaks-4qf","depends_on_id":"oaks-0mo","type":"blocks","created_at":"2025-12-16T12:16:26.73387-05:00","created_by":"daemon"},{"issue_id":"oaks-4qf","depends_on_id":"oaks-3w0","type":"blocks","created_at":"2025-12-16T12:24:15.898651-05:00","created_by":"daemon"}]}
{"id":"oaks-4uq","title":"Add source browsing to landing page","description":"Add a Sources section to the landing page showing available data sources with basic stats and links to their detail pages.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T10:53:42.367609-05:00","updated_at":"2025-12-21T11:34:24.413139-05:00","closed_at":"2025-12-21T11:34:24.413139-05:00","dependencies":[{"issue_id":"oaks-4uq","depends_on_id":"oaks-b14","type":"blocks","created_at":"2025-12-21T10:53:53.824173-05:00","created_by":"daemon"}]}
{"id":"oaks-4y2","title":"Add header navigation with Browse and About links","description":"Add persistent header navigation with links to: Browse (taxonomy tree view) and About page. Search should remain in the header.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T11:44:02.007017-05:00","updated_at":"2025-12-16T10:22:51.947442-05:00","closed_at":"2025-12-16T10:22:51.947442-05:00","dependencies":[{"issue_id":"oaks-4y2","depends_on_id":"oaks-4zk","type":"blocks","created_at":"2025-12-15T11:44:20.993784-05:00","created_by":"daemon"}]}
{"id":"oaks-4zk","title":"Add tree-based browse view for taxonomy navigation","description":"Replace the current busy species list with a tree-based browse view organized by taxonomy hierarchy.\n\n**Hierarchy:** Subgenus → Section → Subsection → Complex → Species\n\n**Key design decisions:**\n1. Tree Structure: Build from allSpecies via derived store (taxonomyTree) - no separate data source\n2. Expansion State: Local component state, resets when switching views\n3. Routing: Add 'taxonomy' view alongside 'list' and 'detail'\n4. Sparse Hierarchy: Species without subsection/complex shown directly under parent level\n5. Search Behavior: Auto-switch to list when searching, return to tree when cleared\n\n**Sub-tasks:**\n- oaks-22c: Add taxonomyTree derived store\n- oaks-jqj: Create TaxonomyTree.svelte component\n- oaks-pt4: Add view toggle to App.svelte","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T11:44:01.683386-05:00","updated_at":"2025-12-15T12:06:52.744799-05:00","closed_at":"2025-12-15T12:06:52.744799-05:00"}
{"id":"oaks-542","title":"Fix XSS vulnerability in markdown rendering","description":"CRITICAL: SpeciesDetail.svelte:78-87 and SourceComparison.svelte:60-67 use inadequate regex sanitization. Replace with DOMPurify library.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-27T14:21:45.1871-05:00","updated_at":"2025-12-27T15:58:08.668814-05:00","closed_at":"2025-12-27T15:58:08.668814-05:00"}
{"id":"oaks-59n","title":"V1 cleanup: Review and finalize data initialization strategy","description":"Once we reach V1 release, review the data initialization approach:\n\n- Evaluate if taxonomy seed file is still needed or if we have a better approach\n- Clean up any dev-time workarounds for data corruption issues\n- Finalize the canonical data import/export workflow\n- Remove or archive temporary data recovery tools\n- Document the production data management strategy\n\nThis is a follow-up to oaks-856 (taxonomy seed file) for post-V1 cleanup.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-15T17:08:38.233664-05:00","updated_at":"2025-12-23T18:50:17.738194-05:00","closed_at":"2025-12-23T18:50:17.738194-05:00","dependencies":[{"issue_id":"oaks-59n","depends_on_id":"oaks-856","type":"blocks","created_at":"2025-12-15T17:08:43.547012-05:00","created_by":"daemon"}]}
{"id":"oaks-5jf","title":"Redo About page with licensing, GitHub link, background, and bio","description":"Redesign the About page with the following changes:\n\n1. **Add data licensing section** - Document the licensing terms for the oak species data\n2. **Add GitHub project link** - Link to the project repository\n3. **Add site background** - Explain the motivation and purpose behind creating the site\n4. **Add author biography** - Include a bio section about the site creator\n5. **Remove site features section** - This section is no longer needed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:51:16.976716-05:00","updated_at":"2025-12-16T13:21:00.735324-05:00","closed_at":"2025-12-16T13:21:00.735324-05:00"}
{"id":"oaks-5oo","title":"Research SQLite options for offline PWA (sql.js, WASM, etc.)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:15:33.38687-05:00","updated_at":"2025-12-14T14:22:56.343694-05:00","closed_at":"2025-12-14T14:22:56.343694-05:00"}
{"id":"oaks-5se","title":"Create Source detail page component","description":"Create SourceDetail.svelte showing: source metadata (name, author, URL, license, description), coverage summary stats, and expandable/clickable list of all species from that source.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T10:53:42.152119-05:00","updated_at":"2025-12-21T10:57:58.881789-05:00","closed_at":"2025-12-21T10:57:58.881789-05:00","dependencies":[{"issue_id":"oaks-5se","depends_on_id":"oaks-b14","type":"blocks","created_at":"2025-12-21T10:53:53.619505-05:00","created_by":"daemon"}]}
{"id":"oaks-5ui","title":"Garbage data in hybrid parent1/parent2 fields","description":"19 hybrids have parsing errors in parent fields. Examples: ×hispanica has parent1=e, parent2=A; ×cerrioides has parent1=1931; ×avellaniformis has parent1=ile, parent2=f. These are scraper parsing failures.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-17T15:32:45.249635-05:00","updated_at":"2025-12-17T15:32:45.249635-05:00"}
{"id":"oaks-5v8","title":"Set up SvelteKit project structure","description":"Initialize SvelteKit project with proper configuration:\n- Create new SvelteKit project structure\n- Configure svelte.config.js with static adapter\n- Set base path to '/oaks' for GitHub Pages\n- Configure 404.html fallback for SPA routing\n- Copy over app.css and static assets\n- Update package.json dependencies","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:41.372388-05:00","updated_at":"2025-12-17T16:04:08.327998-05:00","closed_at":"2025-12-17T16:04:08.327998-05:00"}
{"id":"oaks-6c8","title":"Clean up old routing code","description":"Remove obsolete code after migration:\n- Delete old App.svelte routing logic\n- Remove unused navigation handlers\n- Clean up any orphaned components\n- Update CLAUDE.md documentation\n- Final review of removed code","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:43.629934-05:00","updated_at":"2025-12-17T16:30:12.472587-05:00","closed_at":"2025-12-17T16:30:12.472587-05:00","dependencies":[{"issue_id":"oaks-6c8","depends_on_id":"oaks-p5o","type":"blocks","created_at":"2025-12-17T15:25:01.588325-05:00","created_by":"daemon"}]}
{"id":"oaks-6m2","title":"Convert TaxonomyTree to SvelteKit route","description":"Convert TaxonomyTree to SvelteKit route\n\nDONE:\n- Created src/routes/taxonomy/+page.svelte\n- Updated TaxonomyTree.svelte imports to use $lib/stores/dataStore.js\n- Converted all species buttons to \u003ca\u003e links with {base}/species/{name}/\n- Added text-decoration: none to .species-leaf and .species-leaf-flat styles\n\nSTATUS: Route complete, component updated. Ready to close.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:42.355231-05:00","updated_at":"2025-12-17T16:16:38.021054-05:00","closed_at":"2025-12-17T16:16:38.021054-05:00","dependencies":[{"issue_id":"oaks-6m2","depends_on_id":"oaks-bfk","type":"blocks","created_at":"2025-12-17T15:25:00.40317-05:00","created_by":"daemon"}]}
{"id":"oaks-6wm","title":"Automate Bear-to-deploy pipeline","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T14:04:39.655031-05:00","updated_at":"2025-12-19T15:12:52.353903-05:00","closed_at":"2025-12-19T15:12:52.353903-05:00","dependencies":[{"issue_id":"oaks-6wm","depends_on_id":"oaks-dhm","type":"blocks","created_at":"2025-12-19T14:04:44.32971-05:00","created_by":"daemon"}]}
{"id":"oaks-6xf","title":"Multi-source UI: Add source selector dropdown to species detail","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T15:17:31.301617-05:00","updated_at":"2025-12-19T16:21:08.115332-05:00","closed_at":"2025-12-19T16:21:08.115332-05:00"}
{"id":"oaks-7040","title":"iOS: Speech dictation","description":"Implement SpeechService with SFSpeechRecognizer. Build DictationModal with live transcription. Add permission request flow.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T16:05:55.776455-05:00","updated_at":"2025-12-27T16:05:55.776455-05:00","dependencies":[{"issue_id":"oaks-7040","depends_on_id":"oaks-3y5u","type":"blocks","created_at":"2025-12-27T16:06:04.958588-05:00","created_by":"daemon"}]}
{"id":"oaks-746","title":"Ensure proper heading hierarchy","description":"Audit heading structure: single h1 per page, no skipped levels (h1→h3), headings used for structure not styling. Screen reader users rely on heading navigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:42.280667-05:00","updated_at":"2025-12-23T19:01:03.980666-05:00","closed_at":"2025-12-23T19:01:03.980666-05:00"}
{"id":"oaks-77w","title":"Improve data editing format for multi-line content","description":"Reduce friction in the data editing workflow, particularly for notes and observations.\n\n## Problem\n- CLI-only workflow requires laptop, multiple steps\n- YAML editing is awkward for multi-line content\n- No mobile capture option\n- High friction from note → published\n\n## Solution Architecture\n- **Bear** = Quick capture layer (mobile, low friction)\n- **CLI** = Bulk import, source/taxonomy management, `oak note` for laptop editing\n- **Web** = Read-only display with Markdown rendering\n\n## Use Cases\n1. Quick notes/observations → Bear\n2. Bulk import → CLI\n3. Source management → CLI\n4. Taxonomy management → CLI","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-19T10:12:57.284565-05:00","updated_at":"2025-12-21T10:48:29.566932-05:00","closed_at":"2025-12-21T10:48:29.566932-05:00","dependencies":[{"issue_id":"oaks-77w","depends_on_id":"oaks-7qp","type":"blocks","created_at":"2025-12-19T10:13:24.853214-05:00","created_by":"daemon"},{"issue_id":"oaks-77w","depends_on_id":"oaks-0qt","type":"blocks","created_at":"2025-12-19T10:24:57.74271-05:00","created_by":"daemon"},{"issue_id":"oaks-77w","depends_on_id":"oaks-bt7","type":"blocks","created_at":"2025-12-19T10:24:57.8435-05:00","created_by":"daemon"},{"issue_id":"oaks-77w","depends_on_id":"oaks-93p","type":"blocks","created_at":"2025-12-19T12:18:03.565464-05:00","created_by":"daemon"}]}
{"id":"oaks-791","title":"Evaluate using a CMS vs custom CLI tooling","description":"## Summary\nEvaluated whether to use a CMS vs custom CLI tooling. Conclusion: Keep CLI for its strengths, add Bear as a capture layer.\n\n## Use Cases (Confirmed)\n1. **Quick notes/observations** → Bear (mobile, low friction)\n2. **Bulk import** → CLI (scraper, iNaturalist, YAML)\n3. **Source management** → CLI\n4. **Taxonomy management** → CLI\n\n## Architecture Decision\n- Bear = capture layer for personal notes (mobile-friendly)\n- CLI = data pipeline, source/taxonomy management, bulk operations\n- `oak note` command stays (laptop editing option)\n- Web = read-only display\n\n## Next Steps\n- Integrate Bear notes into the data pipeline\n- Bear notes sync via iCloud, script reads Bear SQLite, imports to oak DB\n\n## CMS Evaluation Result\nEvaluated Strapi, Directus, Decap, Tina. Concluded: we're not building a generic CMS, we're building a domain-specific data pipeline. The editing friction is solved by Bear, not by adopting a CMS.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T10:24:48.717506-05:00","updated_at":"2025-12-19T12:17:42.95872-05:00","closed_at":"2025-12-19T12:17:42.95872-05:00"}
{"id":"oaks-7fb","title":"Migrate CLI from Rust to Go","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T19:00:44.927773-05:00","updated_at":"2025-12-14T19:06:41.43255-05:00","closed_at":"2025-12-14T19:06:41.43255-05:00"}
{"id":"oaks-7gi","title":"Ensure forms are accessible","description":"All form inputs must have associated labels (via label element or aria-labelledby). Error messages must be programmatically associated with inputs. Required fields should be indicated accessibly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:57.813564-05:00","updated_at":"2025-12-23T19:01:03.982844-05:00","closed_at":"2025-12-23T19:01:03.982844-05:00"}
{"id":"oaks-7jl","title":"Implement CLI basic CRUD operations","description":"Implement create, read, update, delete operations for species, sources, and taxonomy entries. Use editor-based workflow as described in CLI spec.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T16:46:08.57633-05:00","updated_at":"2025-12-23T18:44:30.42706-05:00","closed_at":"2025-12-23T18:44:30.42706-05:00"}
{"id":"oaks-7k9","title":"Ensure text is resizable up to 200%","description":"Test that the app remains usable when browser text size is increased to 200%. No content should be cut off or overlap. Use relative units (rem/em) instead of fixed px for text.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:58.159081-05:00","updated_at":"2025-12-23T19:01:03.983287-05:00","closed_at":"2025-12-23T19:01:03.983287-05:00"}
{"id":"oaks-7lh","title":"TaxonView shows wrong level label for subsections","description":"When viewing any subsection detail page (e.g., /taxonomy/Cerris/Cerris/Cerris/), the page header shows 'Complex Q.' instead of the correct 'Subsection [name]'.\n\nThis affects ALL subsections, not just Cerris. The issue only occurs on the subsection detail page itself, not in the parent taxonomy tree.\n\nThe getTaxonLevelLabel() function in TaxonView.svelte maps path depth to level names:\n- depth 1 = Subgenus\n- depth 2 = Section  \n- depth 3 = Subsection\n- depth 4 = Complex\n\nThe template has special handling for complexes that prepends 'Q.' - this logic is incorrectly triggering for subsections:\n\n```svelte\n{#if taxonLevel === 'complex'}Q. {/if}{taxonName}\n```\n\nLikely the taxonLevel variable is being set to 'complex' when it should be 'subsection' at depth 3.\n\nFile: web/src/lib/components/TaxonView.svelte","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-17T16:41:22.669663-05:00","updated_at":"2025-12-19T15:45:20.426203-05:00","closed_at":"2025-12-19T15:45:20.426203-05:00"}
{"id":"oaks-7qp","title":"Research editing format alternatives for multi-line content","description":"Investigate alternatives to YAML for editing oak species data, particularly for fields that contain:\n- Multi-line text (descriptions, notes)\n- Formatted content (bulleted lists, paragraphs)\n- The miscellaneous/notes section which is especially problematic\n\n**Requirements to consider:**\n- Easy to edit in $EDITOR\n- Preserves formatting when displayed in UI\n- Supports rich text features (lists, paragraphs, emphasis)\n- Validates well / has clear error messages\n- Round-trips cleanly (edit → save → edit)\n\n**Possible approaches to evaluate:**\n- Markdown within YAML (multiline strings)\n- Pure Markdown with frontmatter\n- TOML\n- Custom format\n- Hybrid approaches\n\n**PM NOTE:** When executing this issue, put on your PM hat. Focus on gathering requirements, understanding user needs, and evaluating trade-offs before jumping to implementation. Document findings thoroughly.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T10:13:12.970332-05:00","updated_at":"2025-12-19T10:25:03.939733-05:00","closed_at":"2025-12-19T10:25:03.939733-05:00"}
{"id":"oaks-7sm","title":"Source comparison tool","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-16T10:37:50.884499-05:00","updated_at":"2025-12-23T19:37:55.540128-05:00","closed_at":"2025-12-23T19:37:55.540128-05:00","dependencies":[{"issue_id":"oaks-7sm","depends_on_id":"oaks-p2o","type":"blocks","created_at":"2025-12-16T10:45:30.664995-05:00","created_by":"daemon"},{"issue_id":"oaks-7sm","depends_on_id":"oaks-1i8","type":"blocks","created_at":"2025-12-16T10:45:30.695167-05:00","created_by":"daemon"},{"issue_id":"oaks-7sm","depends_on_id":"oaks-b83","type":"blocks","created_at":"2025-12-16T10:45:30.725878-05:00","created_by":"daemon"}]}
{"id":"oaks-83pl","title":"Break up large Svelte components","description":"SpeciesDetail.svelte is 380+ lines, LandingPage.svelte is 280+ lines. Consider splitting into smaller sub-components for maintainability. Lower priority - works fine as-is.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-27T14:43:34.280163-05:00","updated_at":"2025-12-27T14:43:34.280163-05:00"}
{"id":"oaks-856","title":"Create stable taxonomy seed file for DB initialization","description":"Create a version-controlled file that defines the complete Quercus taxonomy as defined by iNaturalist.\n\n**Purpose:**\n- Easily recreate a fresh database if it gets corrupted\n- Single source of truth for taxonomy structure\n- Useful during early-stage development when schema/data may need resets\n\n**File should include:**\n- All taxonomy levels (subgenus, section, subsection, complex)\n- Hierarchy relationships\n- Based on iNaturalist's Quercus taxonomy\n\n**Format:** TBD (YAML, JSON, or SQL seed file)\n\n**Location:** Likely in cli/ or a new data/ directory, checked into git","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T17:08:30.792124-05:00","updated_at":"2025-12-15T17:12:05.337204-05:00","closed_at":"2025-12-15T17:12:05.337204-05:00"}
{"id":"oaks-8e5","title":"Oak identification tool","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-21T10:48:29.761281-05:00","updated_at":"2025-12-21T10:48:29.761281-05:00","dependencies":[{"issue_id":"oaks-8e5","depends_on_id":"oaks-d88","type":"blocks","created_at":"2025-12-21T10:48:53.288504-05:00","created_by":"daemon"}]}
{"id":"oaks-8gt","title":"Redesign landing page with featured species and browse links","description":"Redesign the main landing page to:\n1. Feature a random species from the database\n2. Provide view selection: List view OR Taxonomy tree view (the current view toggle buttons move here)\n3. When searching, replace the landing content with search results\n4. Links to browse both ways (alphabetical list, taxonomy tree)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T11:44:01.844816-05:00","updated_at":"2025-12-16T10:11:50.1375-05:00","closed_at":"2025-12-16T10:11:50.1375-05:00","dependencies":[{"issue_id":"oaks-8gt","depends_on_id":"oaks-4zk","type":"blocks","created_at":"2025-12-15T11:44:20.963116-05:00","created_by":"daemon"}]}
{"id":"oaks-8i2","title":"Header site title link should not have link styling","description":"The site title 'Quercus Compendium' in the Header is now an \u003ca\u003e link (for SvelteKit navigation), but it has default link styling (underline/color). It should look like regular text while still being clickable.\n\nFile: web/src/lib/components/Header.svelte","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-17T16:35:44.347814-05:00","updated_at":"2025-12-19T15:41:51.374706-05:00","closed_at":"2025-12-19T15:41:51.374706-05:00"}
{"id":"oaks-8oo","title":"Update SpeciesDetail to read source-attributed fields from selected source","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T15:17:31.804541-05:00","updated_at":"2025-12-15T16:17:17.677217-05:00","closed_at":"2025-12-15T16:17:17.677217-05:00","dependencies":[{"issue_id":"oaks-8oo","depends_on_id":"oaks-a81","type":"blocks","created_at":"2025-12-15T15:17:37.953153-05:00","created_by":"daemon"}]}
{"id":"oaks-8qs","title":"Add ARIA labels and roles where needed","description":"Add appropriate ARIA attributes: aria-label for icon buttons, aria-expanded for expandable sections, aria-current for navigation, role attributes for custom widgets. Ensure screen readers announce UI state changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:42.104266-05:00","updated_at":"2025-12-23T18:59:59.528297-05:00","closed_at":"2025-12-23T18:59:59.528297-05:00"}
{"id":"oaks-8qt","title":"Accessibility improvements for web app","description":"Ensure the Quercus Compendium web app meets WCAG 2.1 AA accessibility standards. This epic covers all standard accessibility requirements including keyboard navigation, screen reader support, color contrast, focus management, and more.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-15T21:47:27.282883-05:00","updated_at":"2025-12-23T19:02:03.019381-05:00","closed_at":"2025-12-23T19:02:03.019381-05:00","dependencies":[{"issue_id":"oaks-8qt","depends_on_id":"oaks-cfu","type":"blocks","created_at":"2025-12-15T21:48:05.02564-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-0kb","type":"blocks","created_at":"2025-12-15T21:48:05.058846-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-q7i","type":"blocks","created_at":"2025-12-15T21:48:05.090175-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-k8f","type":"blocks","created_at":"2025-12-15T21:48:05.121178-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-8qs","type":"blocks","created_at":"2025-12-15T21:48:05.154286-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-746","type":"blocks","created_at":"2025-12-15T21:48:05.186548-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-uj5","type":"blocks","created_at":"2025-12-15T21:48:05.322925-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-7gi","type":"blocks","created_at":"2025-12-15T21:48:05.354-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-0xw","type":"blocks","created_at":"2025-12-15T21:48:05.385643-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-7k9","type":"blocks","created_at":"2025-12-15T21:48:05.418325-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-cya","type":"blocks","created_at":"2025-12-15T21:48:05.450225-05:00","created_by":"daemon"},{"issue_id":"oaks-8qt","depends_on_id":"oaks-s9j","type":"blocks","created_at":"2025-12-15T21:48:05.483497-05:00","created_by":"daemon"}]}
{"id":"oaks-8vb","title":"Add CLI command to remove items from array fields","description":"The import-bulk command can add items to array fields (hybrids, synonyms, closely_related_to, subspecies_varieties) but there's no way to remove items. Need a command like 'oak remove-from-array \u003cspecies\u003e --field=hybrids --value=saulei' or similar. Use case: cleaning up OOTW typo names from hybrids arrays (e.g., removing 'saulei' now that we have correct 'saulii').","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T21:36:37.086647-05:00","updated_at":"2025-12-15T21:41:04.967592-05:00","closed_at":"2025-12-15T21:41:04.967592-05:00"}
{"id":"oaks-90w","title":"Refactor data model: replace data_points with species_sources junction table","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T14:51:08.477016-05:00","updated_at":"2025-12-15T15:00:27.794435-05:00","closed_at":"2025-12-15T15:00:27.794435-05:00"}
{"id":"oaks-93c","title":"Move search results count from Header to results list","description":"The 'X species found' text currently appears in the Header below the search input. This should instead be displayed at the top of the search results list in SpeciesList.svelte.\n\nCurrent location: Header.svelte / Search.svelte (in header bar)\nDesired location: SpeciesList.svelte (above the results grid)\n\nThis keeps the header clean and puts the count contextually with the results it describes.\n\nFiles:\n- web/src/lib/components/Search.svelte (remove count display)\n- web/src/lib/components/SpeciesList.svelte (add count display when filtering)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:43:52.814636-05:00","updated_at":"2025-12-19T15:47:10.210765-05:00","closed_at":"2025-12-19T15:47:10.210765-05:00"}
{"id":"oaks-93p","title":"Integrate Bear notes into oak data pipeline","description":"Create a workflow to import notes from Bear into the oak database.\n\n## Workflow\n1. Write notes in Bear (iOS/Mac) with tagging convention\n2. Script reads Bear's SQLite database\n3. Parses notes and maps to species\n4. Imports into oak_compendium.db as source-attributed data\n5. Triggers export and deploy\n\n## Resolved Decisions\n- **Source ID**: 3 (Oak Compendium / Personal Observation)\n- **Tagging convention**: `#Quercus/{subgenus}/{section}/{species}` or `#Quercus/{subgenus}/{section}/x/{hybrid}`\n- **Case handling**: Case-insensitive matching\n- **Field mapping**:\n  - Common Name(s) → local_names\n  - Leaf → leaves\n  - Acorn → fruits\n  - Bark → bark\n  - Buds → buds\n  - Form → growth_habit\n  - Range \u0026 Habitat → range\n  - Field Notes → miscellaneous\n  - Resources → miscellaneous (appended)\n\n## Technical Notes\n- Bear SQLite location: ~/Library/Group Containers/9K33E3U3T4.net.shinyfrog.bear/Application Data/database.sqlite\n- Run manually via `oak import-bear` command\n\n## Bear Note Template\n```markdown\n# Quercus {species}\n\n## Common Name(s):\n## Taxonomy:\n#Quercus/{subgenus}/{section}/{species}\n## Identification:\n### Leaf:\n### Acorn:\n### Bark:\n### Buds:\n### Form:\n## Range \u0026 Habitat:\n## Field Notes:\n## Resources:\n## Photos:\n```","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T12:17:58.039669-05:00","updated_at":"2025-12-19T13:52:06.224851-05:00","closed_at":"2025-12-19T13:52:06.224851-05:00"}
{"id":"oaks-95g","title":"Refactor SpeciesList to SearchResults and simplify main page","description":"Rename SpeciesList.svelte to SearchResults.svelte and update all references. Remove the alphabetical browse link from the main page. Main page should have three sections: Taxonomy View, ID Tool (Coming Soon), and Sources List.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-21T15:16:13.812167-05:00","updated_at":"2025-12-21T15:29:29.130358-05:00","closed_at":"2025-12-21T15:29:29.130358-05:00"}
{"id":"oaks-97p","title":"Design CLI import workflow for scraper output","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:13:35.288907-05:00","updated_at":"2025-12-23T18:47:00.480503-05:00","closed_at":"2025-12-23T18:47:00.480503-05:00","dependencies":[{"issue_id":"oaks-97p","depends_on_id":"oaks-1hy","type":"blocks","created_at":"2025-12-14T14:13:53.374944-05:00","created_by":"daemon"}]}
{"id":"oaks-9et","title":"Set up PWA for SvelteKit","description":"Configure PWA support in SvelteKit:\n- Use @vite-pwa/sveltekit or manual service worker approach\n- Migrate manifest configuration from vite.config.js\n- Configure workbox caching strategies\n- Ensure quercus_data.json is precached\n- Test offline functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:43.17848-05:00","updated_at":"2025-12-17T16:19:22.835082-05:00","closed_at":"2025-12-17T16:19:22.835082-05:00","dependencies":[{"issue_id":"oaks-9et","depends_on_id":"oaks-5v8","type":"blocks","created_at":"2025-12-17T15:25:01.044157-05:00","created_by":"daemon"}]}
{"id":"oaks-9yx","title":"Convert SpeciesDetail to SvelteKit dynamic route","description":"Convert SpeciesDetail to SvelteKit dynamic route\n\nDONE:\n- Created src/routes/species/[name]/+page.svelte\n\nTODO:\n- Update SpeciesDetail.svelte imports (./dataStore.js -\u003e $lib/stores/dataStore.js)\n- Remove onNavigate, onNavigateToTaxon, onGoHome props\n- Convert parent species links to \u003ca\u003e tags\n- Convert hybrid links to \u003ca\u003e tags\n- Convert taxonomy links to \u003ca\u003e tags\n- Import { base } from '$app/paths'","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:42.763185-05:00","updated_at":"2025-12-17T16:18:58.046244-05:00","closed_at":"2025-12-17T16:18:58.046244-05:00","dependencies":[{"issue_id":"oaks-9yx","depends_on_id":"oaks-bfk","type":"blocks","created_at":"2025-12-17T15:25:00.726778-05:00","created_by":"daemon"}]}
{"id":"oaks-a81","title":"Add source selector dropdown component to SpeciesDetail","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T15:17:31.632726-05:00","updated_at":"2025-12-15T16:13:50.915193-05:00","closed_at":"2025-12-15T16:13:50.915193-05:00","dependencies":[{"issue_id":"oaks-a81","depends_on_id":"oaks-get","type":"blocks","created_at":"2025-12-15T15:17:37.922669-05:00","created_by":"daemon"}]}
{"id":"oaks-aaf","title":"Create data migration script for existing JSON","description":"One-time migration script to transform quercus_data.json into new schema format. Populate species, sources (oaksoftheworld.fr), and species_source_data tables.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T16:46:08.740831-05:00","updated_at":"2025-12-23T18:46:46.435685-05:00","closed_at":"2025-12-23T18:46:46.435685-05:00","dependencies":[{"issue_id":"oaks-aaf","depends_on_id":"oaks-7jl","type":"blocks","created_at":"2025-12-14T16:51:25.357284-05:00","created_by":"daemon"}]}
{"id":"oaks-apqj","title":"Research iOS Speech framework for dictation","description":"Research Apple's Speech framework for field-by-field dictation.\n\n## Questions to Answer\n- Speech framework vs SFSpeechRecognizer vs dictation keyboard\n- On-device vs server-side recognition (privacy, offline support)\n- How to handle punctuation, scientific names, Latin terms\n- Background audio handling\n- Required permissions and privacy considerations\n\n## Prototype Goals\n- Simple SwiftUI view with dictation button\n- Display recognized text in real-time\n- Test accuracy with botanical terminology","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:40:46.36343-05:00","updated_at":"2025-12-27T16:05:36.206577-05:00","closed_at":"2025-12-27T16:05:36.206577-05:00"}
{"id":"oaks-aty","title":"Make taxonomy levels clickable to show taxon view","description":"On the species detail page, make each taxonomy level (Subgenus, Section, Subsection, Complex) clickable. Clicking should navigate to a taxon view showing all species in that taxon, plus any sub-taxa within it.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T11:44:01.523346-05:00","updated_at":"2025-12-15T21:52:53.727328-05:00","closed_at":"2025-12-15T21:52:53.727328-05:00","dependencies":[{"issue_id":"oaks-aty","depends_on_id":"oaks-4zk","type":"blocks","created_at":"2025-12-15T11:44:20.93163-05:00","created_by":"daemon"},{"issue_id":"oaks-aty","depends_on_id":"oaks-bx0","type":"blocks","created_at":"2025-12-15T16:38:25.714933-05:00","created_by":"daemon"},{"issue_id":"oaks-aty","depends_on_id":"oaks-ry7","type":"blocks","created_at":"2025-12-15T16:44:18.132403-05:00","created_by":"daemon"}]}
{"id":"oaks-b14","title":"Add source data extraction to db.js","description":"Add function to extract unique sources from species data with coverage stats (count, percentage). Sources are currently embedded in species objects - need to aggregate them.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T10:53:41.93357-05:00","updated_at":"2025-12-21T10:55:57.883855-05:00","closed_at":"2025-12-21T10:55:57.883855-05:00"}
{"id":"oaks-b4b","title":"Replace source selector dropdown with tabs","description":"Redesign the source selector in SpeciesDetail.svelte:\n\n**Current issues:**\n- Dropdown feels like a form element, not navigation\n- Unclear which data belongs to which source\n- Takes up a full section for just a control\n\n**New design:**\n- Replace dropdown with horizontal tabs\n- Group all source-dependent fields into a single visual container under the tabs\n- Show license as an icon next to source name with hover tooltip\n- Makes source-to-content relationship explicit\n\n**Affected fields (source-dependent):**\nrange, growth_habit, leaves, fruits, flowers, bark, twigs, buds, local_names, hardiness_habitat, miscellaneous","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T16:38:41.765347-05:00","updated_at":"2025-12-19T16:47:04.283087-05:00","closed_at":"2025-12-19T16:47:04.283087-05:00"}
{"id":"oaks-b83","title":"Add navigation to comparison tool","description":"Add route and entry point for the source comparison tool. Determine if accessed from species detail page, a separate page, or both.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:15.32971-05:00","updated_at":"2025-12-23T19:37:47.095959-05:00","closed_at":"2025-12-23T19:37:47.095962-05:00","dependencies":[{"issue_id":"oaks-b83","depends_on_id":"oaks-1i8","type":"blocks","created_at":"2025-12-16T10:45:30.257993-05:00","created_by":"daemon"}]}
{"id":"oaks-b8i","title":"Research DB migration tools for Go (golang-migrate, goose, etc.)","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-15T14:55:59.782354-05:00","updated_at":"2025-12-15T14:55:59.782354-05:00"}
{"id":"oaks-b8o","title":"Add region assignment to CLI","description":"Add CLI commands to assign and manage geographic regions for species. Should support assigning multiple regions at different granularities.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:14.424262-05:00","updated_at":"2025-12-16T10:45:14.424262-05:00","dependencies":[{"issue_id":"oaks-b8o","depends_on_id":"oaks-lbk","type":"blocks","created_at":"2025-12-16T10:45:29.995845-05:00","created_by":"daemon"}]}
{"id":"oaks-bfk","title":"Create SvelteKit layout with Header","description":"Create +layout.svelte with shared UI:\n- Move Header component into layout\n- Add UpdatePrompt component\n- Set up main container with existing styling\n- Import app.css\n- Slot for page content","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:41.562942-05:00","updated_at":"2025-12-17T16:06:45.826531-05:00","closed_at":"2025-12-17T16:06:45.826531-05:00","dependencies":[{"issue_id":"oaks-bfk","depends_on_id":"oaks-5v8","type":"blocks","created_at":"2025-12-17T15:24:59.790952-05:00","created_by":"daemon"}]}
{"id":"oaks-bjg","title":"Clean up corrupted quercus_data.json from bad import","description":"The root quercus_data.json was corrupted during an Oaks of the World import (commit 26d9502). Contains 987 species with 134 duplicates (entries exist both as 'name' and '× name').\n\n**Root cause:** Import was done without proper duplicate/conflict resolution strategy.\n\n**Current state:**\n- Root quercus_data.json: 987 species, 134 duplicates (corrupted)\n- Initial commit (685802b): 673 species, 0 duplicates (clean)\n- web/public/quercus_data.json: 682 species, 0 duplicates (modified working copy, appears clean)\n\n**Needs:**\n1. Define proper merge/conflict strategy for data imports\n2. Clean up the root data file\n3. Ensure IndexedDB gets fresh data (fix version check bug in db.js)\n4. Re-run import with proper strategy if needed","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T17:00:00.696661-05:00","updated_at":"2025-12-15T17:28:59.513224-05:00","closed_at":"2025-12-15T17:28:59.513224-05:00"}
{"id":"oaks-brse","title":"Improve search filtering performance","description":"filteredSpecies derived store: O(n²) worst case - searches ALL synonyms and local_names for every keystroke. Add debounce (already have 150ms but may need more). Consider memoization or Trie for prefix matching.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T14:48:09.709471-05:00","updated_at":"2025-12-27T14:48:09.709471-05:00"}
{"id":"oaks-bt7","title":"Add Markdown rendering to web app","description":"Render Markdown content in the web UI:\n- Add markdown rendering library (marked, markdown-it, or similar)\n- Update SpeciesDetail.svelte to render text fields as HTML\n- Handle both legacy plain text and new Markdown content gracefully\n- Consider sanitization for safety","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T10:24:48.482646-05:00","updated_at":"2025-12-19T15:59:35.937542-05:00","closed_at":"2025-12-19T15:59:35.937542-05:00","dependencies":[{"issue_id":"oaks-bt7","depends_on_id":"oaks-791","type":"blocks","created_at":"2025-12-19T10:24:57.527874-05:00","created_by":"daemon"}]}
{"id":"oaks-btd","title":"Audit CSS/styling for consistency and best practices","description":"Review web app styling for consistency and best practices:\n\n- Check CSS custom properties usage (are all colors/shadows using variables?)\n- Identify inline styles that should use CSS classes or variables\n- Look for duplicated style definitions across components\n- Ensure Tailwind and custom CSS are used consistently (not mixed randomly)\n- Consider consolidating common patterns into reusable classes\n- Review app.css organization","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T10:17:16.086541-05:00","updated_at":"2025-12-16T10:26:20.413395-05:00","closed_at":"2025-12-16T10:26:20.413395-05:00"}
{"id":"oaks-bx0","title":"Research: Header and navigation architecture","description":"The header currently disappears or changes dramatically between views (list, taxonomy, taxon, detail). This creates a janky UX and makes the code complex with multiple conditional branches.\n\n**Questions to answer:**\n1. What should be in the header across all views? (logo, search, nav links, back button?)\n2. Should the header be truly stable (same structure always) or contextual?\n3. How should navigation work? (breadcrumbs in content vs header, view toggles, etc.)\n4. Should we extract Header as its own component?\n5. How do taxon pages fit into the navigation model?\n\n**Current issues:**\n- Header conditionally renders different content for detail/taxon/browse views\n- Search box only shows in browse views\n- Back button replaces entire header in detail/taxon views\n- View toggle (list/tree) only in browse mode\n\n**Deliverable:** Design decision on header structure before implementing taxon pages properly.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:38:10.149651-05:00","updated_at":"2025-12-15T16:44:05.178469-05:00","closed_at":"2025-12-15T16:44:05.178469-05:00"}
{"id":"oaks-bxjm","title":"Escape SQL LIKE pattern special characters","description":"HIGH: cli/internal/db/db.go:390,550 SearchTaxa/SearchEntries don't escape % and _ in LIKE patterns. User input can manipulate query semantics. Add escapeLike() helper.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:21:46.186316-05:00","updated_at":"2025-12-27T16:35:48.439584-05:00","closed_at":"2025-12-27T16:35:48.439584-05:00"}
{"id":"oaks-c6s","title":"Fix hybrid naming inconsistencies in species data","description":"Hybrid names have inconsistencies - e.g., Q. alba's hybrids list shows names that don't match our DB naming convention (with × prefix). Need to audit and normalize hybrid name references across the data.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T18:18:04.551924-05:00","updated_at":"2025-12-17T15:32:44.97178-05:00","closed_at":"2025-12-17T15:32:44.97178-05:00"}
{"id":"oaks-cfu","title":"Add skip-to-content link","description":"Add a skip link at the top of the page that allows keyboard users to skip navigation and go directly to main content. Should be visually hidden until focused.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:41.424261-05:00","updated_at":"2025-12-23T18:59:59.52436-05:00","closed_at":"2025-12-23T18:59:59.52436-05:00"}
{"id":"oaks-cgv","title":"Populate taxonomy tables with known taxa","description":"Add subgenera (Quercus, Cerris, Cyclobalanopsis), sections (Lobatae, Quercus, Ilex, etc.), subsections (Coccineae, Dumosae, Albae, etc.), and known complexes to the database","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T16:46:08.420576-05:00","updated_at":"2025-12-15T10:14:35.774971-05:00","closed_at":"2025-12-15T10:14:35.774971-05:00"}
{"id":"oaks-ch8","title":"Add USDA Plants and herbarium external links","description":"Continue adding external links for species:\n\n## USDA Plants Database\n- URL: https://plants.usda.gov/home/plantProfile?symbol={CODE}\n- Requires symbol code lookup (not constructable from name)\n- Need to research if there's an API or downloadable mapping\n\n## Online Herbaria\nResearch URL patterns and coverage for:\n- JSTOR Global Plants\n- SEINet\n- iDigBio\n- Consortium of California Herbaria (CCH2)\n- Others?\n\nFollows from oaks-ze3 which added FNA and FEIS links.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-23T21:09:47.915242-05:00","updated_at":"2025-12-24T18:54:49.471591-05:00"}
{"id":"oaks-cnsw","title":"Expand test coverage to 60%+ on critical paths","description":"Add scraper integration tests with mock HTML. Implement CLI command tests with temporary database. Add Svelte component tests for SpeciesDetail, SourceComparison. Create end-to-end test for full data pipeline (scraper → CLI → web).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:43:33.637403-05:00","updated_at":"2025-12-27T14:58:15.099328-05:00","closed_at":"2025-12-27T14:58:15.099328-05:00"}
{"id":"oaks-cpe8","title":"Design markdown format for species notes","description":"Define the markdown format that the iOS app will generate and CLI will import.\n\n## Requirements\n- Species name in H1\n- Fields as H2 headers (Leaves, Bark, Acorns, Range, etc.)\n- Must match existing species_sources fields\n- Support for partial entries (not all fields required)\n\n## Example\n```markdown\n# Quercus alba\n\n## Common Names\nwhite oak, eastern white oak\n\n## Leaves\nLeaves 5-9 lobed, 12-22 cm long...\n\n## Acorns\nAcorn 1.5-2.5 cm, cup shallow...\n```\n\n## Decisions Needed\n- Filename convention (species name? timestamp?)\n- How to handle updates vs new entries\n- Metadata (source book, page number, date?)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T15:40:38.391379-05:00","updated_at":"2025-12-27T16:05:36.098562-05:00","closed_at":"2025-12-27T16:05:36.098562-05:00"}
{"id":"oaks-cpw","title":"Enhance search to include sources","description":"Update search to match on source name/author. Add result type differentiation (species vs source) with visual indicators and ranking logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T10:53:42.580898-05:00","updated_at":"2025-12-21T15:15:01.808657-05:00","closed_at":"2025-12-21T15:15:01.808657-05:00","dependencies":[{"issue_id":"oaks-cpw","depends_on_id":"oaks-b14","type":"blocks","created_at":"2025-12-21T10:53:53.923525-05:00","created_by":"daemon"}]}
{"id":"oaks-cws","title":"Enable GitHub Pages in repo settings","description":"In GitHub repo settings, enable Pages and configure to deploy from gh-pages branch (created by the Actions workflow).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:16:17.261522-05:00","updated_at":"2025-12-19T16:22:38.834149-05:00","closed_at":"2025-12-19T16:22:38.834149-05:00","dependencies":[{"issue_id":"oaks-cws","depends_on_id":"oaks-4qf","type":"blocks","created_at":"2025-12-16T12:16:26.764894-05:00","created_by":"daemon"}]}
{"id":"oaks-cya","title":"Add landmark regions for screen readers","description":"Use semantic HTML5 landmarks (main, nav, header, footer, aside) or ARIA landmarks (role=main, etc.) to help screen reader users navigate page structure.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:58.340589-05:00","updated_at":"2025-12-23T19:01:03.983732-05:00","closed_at":"2025-12-23T19:01:03.983732-05:00"}
{"id":"oaks-d5r","title":"Investigate duplicate hybrid entries in data import","description":"Hybrids like 'riparia' appear twice in the database, causing display issues like 'Quercus × × riparia'. Need to:\n1. Check quercus_data.json for duplicates\n2. Investigate how duplicates were introduced\n3. Clean up the data\n4. Add safeguards against future duplicates","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T16:54:11.554037-05:00","updated_at":"2025-12-15T16:56:36.069489-05:00","closed_at":"2025-12-15T16:56:36.069489-05:00"}
{"id":"oaks-d88","title":"Research and requirements for ID tool","description":"Gather requirements for the oak identification tool through a PM-style interview with the user. Understand user goals, target audience, key features, and success criteria before design work begins.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T10:48:37.402876-05:00","updated_at":"2025-12-21T10:48:37.402876-05:00"}
{"id":"oaks-db6","title":"Fix page titles to match current screen","description":"Currently the page title is always the same (e.g., 'Quercus Database') regardless of which screen is loaded. This causes two problems:\n\n1. **Shared links lack context** - When sharing a URL, the title doesn't indicate what page is being shared\n2. **Browser tabs are indistinguishable** - Multiple tabs all show the same title\n\nShould update document.title dynamically based on current route:\n- Home: 'Quercus Database'\n- Species detail: 'Quercus alba - Quercus Database'\n- Search results: 'Search: [query] - Quercus Database'\n- About: 'About - Quercus Database'\n- etc.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T22:36:11.899758-05:00","updated_at":"2025-12-17T15:25:09.715216-05:00","closed_at":"2025-12-17T15:25:09.715216-05:00"}
{"id":"oaks-dbq","title":"Configure custom domain for GitHub Pages","description":"Optional: Set up custom domain in GitHub Pages settings, configure DNS records, and verify HTTPS works. Update Vite base path if needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:16:17.614592-05:00","updated_at":"2025-12-21T12:34:16.121258-05:00","closed_at":"2025-12-21T12:34:16.121258-05:00","dependencies":[{"issue_id":"oaks-dbq","depends_on_id":"oaks-rrg","type":"blocks","created_at":"2025-12-16T12:16:26.829236-05:00","created_by":"daemon"}]}
{"id":"oaks-dhm","title":"Update documentation with Bear workflow","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T14:04:39.232475-05:00","updated_at":"2025-12-19T14:07:39.853994-05:00","closed_at":"2025-12-19T14:07:39.853994-05:00"}
{"id":"oaks-e85","title":"Define unified data schema across all components","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:13:34.662127-05:00","updated_at":"2025-12-14T16:22:17.663379-05:00","closed_at":"2025-12-14T16:22:17.663379-05:00"}
{"id":"oaks-e9p","title":"Determine web app data format strategy (JSON vs SQLite for PWA)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:13:34.815793-05:00","updated_at":"2025-12-14T17:09:47.971131-05:00","closed_at":"2025-12-14T17:09:47.971131-05:00","dependencies":[{"issue_id":"oaks-e9p","depends_on_id":"oaks-e85","type":"blocks","created_at":"2025-12-14T14:13:53.106712-05:00","created_by":"daemon"},{"issue_id":"oaks-e9p","depends_on_id":"oaks-5oo","type":"blocks","created_at":"2025-12-14T14:15:40.631518-05:00","created_by":"daemon"}]}
{"id":"oaks-ecz","title":"Code quality and architecture audit","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T14:16:24.546433-05:00","updated_at":"2025-12-27T14:16:24.546433-05:00","dependencies":[{"issue_id":"oaks-ecz","depends_on_id":"oaks-y8q","type":"blocks","created_at":"2025-12-27T14:16:48.950185-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-jz5","type":"blocks","created_at":"2025-12-27T14:16:49.051393-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-tzr","type":"blocks","created_at":"2025-12-27T14:16:49.152363-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-b8i","type":"blocks","created_at":"2025-12-27T14:16:49.253381-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-542","type":"blocks","created_at":"2025-12-27T14:22:12.310163-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-yd3","type":"blocks","created_at":"2025-12-27T14:22:12.411321-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-oxo","type":"blocks","created_at":"2025-12-27T14:22:12.511265-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-k7t","type":"blocks","created_at":"2025-12-27T14:22:12.607857-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-sugk","type":"blocks","created_at":"2025-12-27T14:22:12.706929-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-bxjm","type":"blocks","created_at":"2025-12-27T14:22:12.809193-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-nio5","type":"blocks","created_at":"2025-12-27T14:22:12.909106-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-1woa","type":"blocks","created_at":"2025-12-27T14:22:13.008825-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-vwou","type":"blocks","created_at":"2025-12-27T14:22:13.106824-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-n75a","type":"blocks","created_at":"2025-12-27T14:22:13.207391-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-xjul","type":"blocks","created_at":"2025-12-27T14:43:39.103945-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-cnsw","type":"blocks","created_at":"2025-12-27T14:43:39.203136-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-qg8t","type":"blocks","created_at":"2025-12-27T14:43:39.303967-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-ph4u","type":"blocks","created_at":"2025-12-27T14:43:39.404816-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-83pl","type":"blocks","created_at":"2025-12-27T14:43:39.503292-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-oan7","type":"blocks","created_at":"2025-12-27T14:48:17.043698-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-2zrz","type":"blocks","created_at":"2025-12-27T14:48:17.143604-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-v9od","type":"blocks","created_at":"2025-12-27T14:48:17.249566-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-15m2","type":"blocks","created_at":"2025-12-27T14:48:17.35082-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-1i43","type":"blocks","created_at":"2025-12-27T14:48:17.452955-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-j05j","type":"blocks","created_at":"2025-12-27T14:48:17.55749-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-brse","type":"blocks","created_at":"2025-12-27T14:48:17.656563-05:00","created_by":"daemon"},{"issue_id":"oaks-ecz","depends_on_id":"oaks-tuf3","type":"blocks","created_at":"2025-12-27T14:48:17.756279-05:00","created_by":"daemon"}]}
{"id":"oaks-ena","title":"Search only works on list view and query persists across navigation","description":"Two related search issues after SvelteKit migration:\n\n1. Search input only works when on the /list/ route. On other pages (home, taxonomy, species detail, about), typing in search does nothing - user expects to be redirected to list view with filtered results.\n\n2. Search query is persistent in the store, so after searching and navigating away, the search box still shows the query and 'X species found' text. The query should clear when navigating to a non-list page, or search should work globally.\n\nPrevious behavior (hash routing): Search from any view would auto-switch to list view with filtered results.\n\nFiles involved:\n- web/src/lib/components/Header.svelte (Search component)\n- web/src/lib/components/Search.svelte\n- web/src/lib/stores/dataStore.js (searchQuery store)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-17T16:37:58.266853-05:00","updated_at":"2025-12-19T15:41:51.371051-05:00","closed_at":"2025-12-19T15:41:51.371051-05:00"}
{"id":"oaks-ezs","title":"Compact desktop layout for species detail page","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T12:45:12.163793-05:00","updated_at":"2025-12-19T15:48:01.381659-05:00","closed_at":"2025-12-19T15:48:01.381659-05:00"}
{"id":"oaks-fb8","title":"Convert SpeciesList to SvelteKit route","description":"Convert SpeciesList.svelte to routes/list/+page.svelte:\n- Add svelte:head with 'Browse Species - Quercus Compendium' title\n- Handle search query in title: 'Search: [query] - Quercus Compendium'\n- Update species selection to use goto('/[species]')","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:42.155985-05:00","updated_at":"2025-12-17T16:08:34.698355-05:00","closed_at":"2025-12-17T16:08:34.698355-05:00","dependencies":[{"issue_id":"oaks-fb8","depends_on_id":"oaks-bfk","type":"blocks","created_at":"2025-12-17T15:25:00.245824-05:00","created_by":"daemon"}]}
{"id":"oaks-fmr","title":"Handle edge case: species with no sources in detail view","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T15:17:32.152804-05:00","updated_at":"2025-12-15T16:22:41.324531-05:00","closed_at":"2025-12-15T16:22:41.324531-05:00","dependencies":[{"issue_id":"oaks-fmr","depends_on_id":"oaks-8oo","type":"blocks","created_at":"2025-12-15T15:17:38.015344-05:00","created_by":"daemon"}]}
{"id":"oaks-frzg","title":"iOS: Xcode project setup","description":"Create Xcode project with iOS 17 target. Add project to ios/ directory in repo. Configure Info.plist with privacy descriptions for microphone and speech recognition.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:05:55.125585-05:00","updated_at":"2025-12-27T16:13:02.001712-05:00","closed_at":"2025-12-27T16:13:02.001712-05:00"}
{"id":"oaks-g0h","title":"Add /sources routes","description":"Add SvelteKit routes: /sources/ (index) and /sources/[id]/ (detail). Wire up to components.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T10:53:42.796913-05:00","updated_at":"2025-12-21T11:00:10.072588-05:00","closed_at":"2025-12-21T11:00:10.072588-05:00","dependencies":[{"issue_id":"oaks-g0h","depends_on_id":"oaks-5se","type":"blocks","created_at":"2025-12-21T10:53:53.715452-05:00","created_by":"daemon"}]}
{"id":"oaks-get","title":"Implement default source selection logic (is_preferred, then most data)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T15:17:31.467711-05:00","updated_at":"2025-12-15T16:13:08.595411-05:00","closed_at":"2025-12-15T16:13:08.595411-05:00"}
{"id":"oaks-iji","title":"Add universal external links to species detail UI","description":"Add hardcoded external link patterns to the species detail page in the web app.\n\nUniversal links to add (always shown, constructed from species name):\n- Wikipedia: https://en.wikipedia.org/wiki/Quercus_{name}\n- iNaturalist search: https://www.inaturalist.org/search?q=Quercus+{name}\n\nNo database changes needed - just UI code to construct and display links.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T12:13:08.675915-05:00","updated_at":"2025-12-23T12:38:46.697599-05:00","closed_at":"2025-12-23T12:38:46.697599-05:00"}
{"id":"oaks-in5","title":"Missing hybrid entries referenced by parent species","description":"20 species reference hybrids in their 'hybrids' array that don't exist in the database. Examples: budensis, kiusiana, grandidentata, cantabrica. These were likely never scraped from Oaks of the World.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-17T15:32:45.109664-05:00","updated_at":"2025-12-17T15:32:45.109664-05:00"}
{"id":"oaks-ipa","title":"Remove OOTW typo names from hybrids arrays","description":"Remove the following OOTW typo hybrid names from species hybrids arrays:\n\nTYPOS TO REMOVE (OOTW name -\u003e correct DB name):\n- palaelithicola -\u003e palaeolithicola\n- shuettei -\u003e schuettei\n- demarei -\u003e demareei\n- macdanielli -\u003e macdanielii\n- bernardensis -\u003e bernardiensis\n- saulei -\u003e saulii\n\nSPECIES TO UPDATE:\n- alba: remove 'saulei'\n- bicolor: remove 'shuettei'\n- ellipsoidalis: remove 'palaelithicola'\n- macrocarpa: remove 'macdanielli', 'shuettei'\n- montana: remove 'saulei', 'bernardensis'\n- nigra: remove 'demarei'\n- robur: remove 'macdanielli'\n- stellata: remove 'bernardensis'\n- velutina: remove 'demarei', 'palaelithicola'\n\nTotal: 9 species, 12 removals","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:37:31.45806-05:00","updated_at":"2025-12-15T21:42:33.494573-05:00","closed_at":"2025-12-15T21:42:33.494573-05:00","dependencies":[{"issue_id":"oaks-ipa","depends_on_id":"oaks-8vb","type":"blocks","created_at":"2025-12-15T21:37:37.831109-05:00","created_by":"daemon"}]}
{"id":"oaks-iry","title":"Manage temp files for data imports and prevent git commits","description":"Currently temp files for data imports (CLI tool, scraper outputs) don't have a consistent location. Need to:\n\n1. Establish a standard temp directory (e.g., tmp/ or .tmp/) for data import operations\n2. Update .gitignore to exclude this directory and any temp file patterns\n3. Update CLI tool to use the standard temp location\n4. Document the temp file conventions in CLAUDE.md\n\nThis prevents accidental commits of large data files or intermediate processing artifacts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T10:52:19.938098-05:00","updated_at":"2025-12-15T11:48:36.374942-05:00","closed_at":"2025-12-15T11:48:36.374942-05:00"}
{"id":"oaks-j05j","title":"Add error boundary for web JSON loading","description":"fetchAndCacheData() (lines 198-229): If JSON parsing fails mid-stream, stores left partially populated without error state. Wrap in try/catch that clears stores on failure and shows error UI.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T14:48:09.475761-05:00","updated_at":"2025-12-27T14:48:09.475761-05:00"}
{"id":"oaks-j9s","title":"Create wa-sqlite proof-of-concept in web app","description":"FAILED: Claude Code provided incorrect advice about SQLite WASM maturity and browser support. Initial research was overly optimistic and not validated through actual implementation. wa-sqlite has critical integration issues with Vite - WASM factory hangs indefinitely despite successful file loading (200 status). Technology is too immature and unstable for production use. The confident recommendation to proceed with SQLite was premature and not based on hands-on testing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:23:05.624887-05:00","updated_at":"2025-12-14T15:27:27.32805-05:00","closed_at":"2025-12-14T15:26:38.620123-05:00","dependencies":[{"issue_id":"oaks-j9s","depends_on_id":"oaks-nov","type":"blocks","created_at":"2025-12-14T14:23:15.117014-05:00","created_by":"daemon"}]}
{"id":"oaks-jhat","title":"iOS: Core data models","description":"Implement SpeciesNote, NoteField, TaxonomyPath models. Implement StorageService for local JSON persistence.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T16:05:55.346975-05:00","updated_at":"2025-12-27T16:42:12.259127-05:00","closed_at":"2025-12-27T16:42:12.259127-05:00","dependencies":[{"issue_id":"oaks-jhat","depends_on_id":"oaks-frzg","type":"blocks","created_at":"2025-12-27T16:06:04.755402-05:00","created_by":"daemon"}]}
{"id":"oaks-jqj","title":"Create TaxonomyTree.svelte component","description":"New component with expand/collapse tree UI.\n\n**Visual hierarchy:**\n```\n▶ Subgenus Quercus (274)          [bold, serif, forest-800]\n  ▶ Section Lobatae (123)         [medium weight, forest-700]\n    ▶ Subsection Phellos (13)     [italic, secondary color]\n      ▶ Complex shumardii (11)    [italic, lighter weight]\n        × hybrida                 [species, clickable]\n        species1\n    species-without-subsection    [shown directly under section]\n```\n\n**Key features:**\n- Subscribe to `taxonomyTree` derived store\n- Local expansion state (not global store) - resets on view change\n- Nested rendering: subgenus → section → subsection → complex → species\n- Expand icons: ▶ collapsed, ▼ expanded\n- Counts in parentheses at each level\n- Species without subsection shown directly under section (no empty grouping)\n- Species without complex shown directly under subsection\n- Click handlers: toggle expand or navigate to species detail (calls onSelectSpecies)\n- Styling matches existing components (CSS variables, card style)\n\n**Species styling:**\n- Italic name\n- × prefix for hybrids\n- Hover highlight (forest-100 background)\n\n**Props:**\n- onSelectSpecies: callback function\n\n**File:** web/src/lib/TaxonomyTree.svelte (new)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:55:21.269983-05:00","updated_at":"2025-12-15T12:05:18.536733-05:00","closed_at":"2025-12-15T12:05:18.536733-05:00","dependencies":[{"issue_id":"oaks-jqj","depends_on_id":"oaks-22c","type":"blocks","created_at":"2025-12-15T11:55:27.299482-05:00","created_by":"daemon"}]}
{"id":"oaks-jt0","title":"Search only works on alphabetical list page","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-19T12:45:11.876844-05:00","updated_at":"2025-12-19T15:41:51.374224-05:00","closed_at":"2025-12-19T15:41:51.374224-05:00"}
{"id":"oaks-jz5","title":"Principal Engineer code review","description":"Clean up code, identify shortcuts, bad practices, anti-patterns. Thorough review as if done by a Principal Engineer with high standards","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:16:35.492041-05:00","updated_at":"2025-12-27T14:48:44.392642-05:00","closed_at":"2025-12-27T14:48:44.392642-05:00"}
{"id":"oaks-k7h","title":"Configure Vite for GitHub Pages base path","description":"Set the base path in vite.config.js for GitHub Pages deployment. May need to be '/oaks/' or '/' depending on whether using custom domain or username.github.io/oaks.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:16:16.765902-05:00","updated_at":"2025-12-16T12:49:41.365275-05:00","closed_at":"2025-12-16T12:49:41.365275-05:00"}
{"id":"oaks-k7t","title":"Fix cache path collision vulnerability in scraper","description":"HIGH: scrapers/oaksoftheworld/utils.py:25-35 uses only filename from URL for cache path. Multiple URLs can collide, enabling data poisoning. Use URL hash instead.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:21:45.783424-05:00","updated_at":"2025-12-27T16:35:48.439047-05:00","closed_at":"2025-12-27T16:35:48.439047-05:00"}
{"id":"oaks-k8f","title":"Audit and fix color contrast ratios","description":"Check all text and UI elements meet WCAG 2.1 AA contrast ratios: 4.5:1 for normal text, 3:1 for large text and UI components. Fix any failing elements.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:41.932728-05:00","updated_at":"2025-12-23T18:59:59.527884-05:00","closed_at":"2025-12-23T18:59:59.527884-05:00"}
{"id":"oaks-ki0","title":"Design web app export JSON format","description":"Define the JSON structure that CLI exports for web app consumption. Should balance completeness with performance/size for browser loading.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T16:46:08.907526-05:00","updated_at":"2025-12-14T19:24:16.8906-05:00","closed_at":"2025-12-14T19:24:16.8906-05:00","dependencies":[{"issue_id":"oaks-ki0","depends_on_id":"oaks-e9p","type":"blocks","created_at":"2025-12-14T16:51:24.790191-05:00","created_by":"daemon"}]}
{"id":"oaks-koq","title":"Research map boundary data sources","description":"Find GeoJSON/TopoJSON datasets for administrative boundaries (countries, states/provinces, counties). Candidates: Natural Earth, GADM, geoBoundaries. Evaluate size, licensing, and granularity options.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:14.084162-05:00","updated_at":"2025-12-16T10:45:14.084162-05:00"}
{"id":"oaks-krc","title":"Make hybrid links clickable in species detail view","description":"In the species detail view, the hybrids list shows hybrid names but they are not clickable links. Should link to the hybrid's detail page.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T18:18:04.705257-05:00","updated_at":"2025-12-15T21:46:27.822349-05:00","closed_at":"2025-12-15T21:46:27.822349-05:00"}
{"id":"oaks-l1n","title":"Add external links to species (name, URL, logo)","description":"Add support for external links on species entries. Each link should have:\n- Name (e.g., 'Wikipedia', 'USDA Plants', 'iNaturalist')\n- URL (the direct link to that species on the external site)\n- Logo (icon/image for visual identification)\n\nThese are reference links to external sources that won't be imported into the database - just linking out for users who want more information.\n\nAffects:\n- CLI database schema (new table or JSON field)\n- JSON export format\n- Web app display (likely in SpeciesDetail component)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-21T16:10:59.8499-05:00","updated_at":"2025-12-21T16:22:58.250937-05:00","closed_at":"2025-12-21T16:22:58.250937-05:00"}
{"id":"oaks-lbk","title":"Design data model for species-region associations","description":"Design schema for linking species to geographic regions at varying granularity (country → state → county). Consider how to reference external boundary data and handle multi-region species.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:14.254623-05:00","updated_at":"2025-12-16T10:45:14.254623-05:00","dependencies":[{"issue_id":"oaks-lbk","depends_on_id":"oaks-koq","type":"blocks","created_at":"2025-12-16T10:45:29.963867-05:00","created_by":"daemon"}]}
{"id":"oaks-n75a","title":"Add security testing to CI/CD","description":"LOW: Add npm audit, pip audit, go mod verify to GitHub Actions. Regular dependency vulnerability scanning.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-27T14:21:58.855342-05:00","updated_at":"2025-12-27T14:58:15.102887-05:00","closed_at":"2025-12-27T14:58:15.102887-05:00"}
{"id":"oaks-ner","title":"Web app data caching issues - tracking and resolution","description":"# Web App Data Caching Issues - Comprehensive History\n\n## Current Problem (2025-12-23)\nIndexedDB data is 2 days stale despite multiple page visits. External links added to species are visible locally but not in production. The `checkForUpdates()` background task appears to either not run or fail silently.\n\n## Root Causes Identified\n\n### 1. GitHub Pages CDN Caching (10 minutes)\n- GitHub Pages sets `cache-control: max-age=600` on all static files\n- `cache: 'no-store'` in fetch only affects browser cache, NOT CDN\n- **Fix applied (33e99b1)**: Added timestamp query param `?t=Date.now()` to bypass CDN\n\n### 2. Silent Error Handling\n- `checkForUpdates()` catches all errors and only logs to console (line 255-258)\n- User never sees if background update fails\n- No visibility into whether updates are actually happening\n\n### 3. Version Check Logic (potentially fragile)\n- Compares `currentVersion?.value === metadata?.version` \n- Both are ISO timestamp strings - should work but debugging is difficult\n- If versions match (due to stale cache), no update occurs\n\n### 4. WRONG BASE_URL FOR FETCH (ROOT CAUSE FOUND 2025-12-24)\n- `import.meta.env.BASE_URL` does NOT work correctly in SvelteKit\n- The update check was fetching the WRONG URL, causing 404 errors\n- Console showed: `[DataStore] Update check failed: HTTP 404`\n- **Fix applied (7bdf97d)**: Use `$app/paths` base instead\n\n## Historical Attempts to Fix Caching\n\n### Commits (chronological):\n1. **5d83c4b** - Initial IndexedDB integration\n2. **7379217** - Added metadata section for cache invalidation\n3. **b92f496** - Removed vite-plugin-pwa (was causing issues)\n4. **b4db446** - Added kill switch service worker to clear old PWA cache\n5. **3332278** - Added `cache: 'no-store'` to update check fetch\n6. **33e99b1** - Added timestamp query param for CDN cache busting\n7. **009b5f2** - Added version display, force refresh button, diagnostic logging\n8. **7bdf97d** - Fixed BASE_URL issue - use `$app/paths` instead of `import.meta.env.BASE_URL`\n\n### Related Beads:\n- oaks-j9s: Failed SQLite WASM POC (abandoned)\n- oaks-2qj: IndexedDB implementation (closed)\n- oaks-0om: Service worker caching (obsolete)\n- oaks-5oo: SQLite research (closed)\n- oaks-9et: PWA setup (closed)\n- oaks-pi1: Offline functionality test (closed)\n\n## Current Architecture\n1. JSON fetched from `/quercus_data.json?t=timestamp`\n2. Version compared against IndexedDB metadata\n3. If different, IndexedDB cleared and repopulated\n4. `checkForUpdates()` runs in background after loading cached data\n\n## Session 2025-12-24: New Findings\n\n### Dexie Version Multiplier (IMPORTANT)\n- Dexie internally multiplies schema versions by 10\n- `db.version(2)` creates IndexedDB with version 20\n- This is intentional - allows intermediate upgrade steps\n- **Version 20 in IndexedDB is CORRECT** (not corruption)\n\n### Resolution (Morning)\n- Manually deleted IndexedDB via DevTools: `indexedDB.deleteDatabase('QuercusDB')`\n- Database recreated fresh with correct data version `2025-12-24T02:38:24Z`\n- External links now working correctly\n\n### ROOT CAUSE FOUND (Evening)\nAfter deploying Sibley Guide data, caching issue recurred:\n- User's IndexedDB: `2025-12-24T02:38:24Z`\n- Server: `2025-12-24T19:16:55Z`\n- Versions DIFFERENT but update not happening\n\n**Discovery via console logging:**\n```\n[DataStore] Checking for updates...\n[DataStore] Update check failed: HTTP 404\n```\n\n**Root Cause**: `import.meta.env.BASE_URL` does not resolve correctly in SvelteKit production builds. The fetch URL was malformed, causing 404 errors. This explains why updates NEVER worked - the update check was silently failing every time!\n\n**Fix**: Changed from `import.meta.env.BASE_URL` to `base` from `$app/paths` (commit 7bdf97d)\n\n### New Features Added (009b5f2)\n- **Version display** on landing page shows current data version\n- **Force Refresh button** to manually clear IndexedDB and reload\n- **Console logging** for `[DataStore]` and `[DB]` operations\n\n## What Was Tried\n- [x] Showing data version in UI so user can see staleness\n- [x] Force refresh button in UI\n- [x] Visible error reporting when updates fail (console logging)\n- [ ] More aggressive update checking (on focus, periodic)\n\n## Current Status\n- ROOT CAUSE IDENTIFIED: Wrong BASE_URL for fetch requests\n- Fix committed (7bdf97d), awaiting deployment\n- Version display and force refresh button now available\n\n## Success Criteria\nUser reports that production data updates reliably within reasonable time after deployment WITHOUT needing to manually delete IndexedDB. If manual deletion is required again, root cause investigation needed.","status":"in_progress","priority":2,"issue_type":"bug","created_at":"2025-12-23T21:53:03.194802-05:00","updated_at":"2025-12-24T14:43:08.86022-05:00"}
{"id":"oaks-nff","title":"Figure out site deployment strategy","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-16T10:38:36.150523-05:00","updated_at":"2025-12-19T16:21:08.117039-05:00","closed_at":"2025-12-19T16:21:08.117039-05:00","dependencies":[{"issue_id":"oaks-nff","depends_on_id":"oaks-k7h","type":"blocks","created_at":"2025-12-16T12:16:26.957399-05:00","created_by":"daemon"},{"issue_id":"oaks-nff","depends_on_id":"oaks-0mo","type":"blocks","created_at":"2025-12-16T12:16:26.988276-05:00","created_by":"daemon"},{"issue_id":"oaks-nff","depends_on_id":"oaks-4qf","type":"blocks","created_at":"2025-12-16T12:16:27.020441-05:00","created_by":"daemon"},{"issue_id":"oaks-nff","depends_on_id":"oaks-cws","type":"blocks","created_at":"2025-12-16T12:16:27.051022-05:00","created_by":"daemon"},{"issue_id":"oaks-nff","depends_on_id":"oaks-rrg","type":"blocks","created_at":"2025-12-16T12:16:27.081973-05:00","created_by":"daemon"},{"issue_id":"oaks-nff","depends_on_id":"oaks-dbq","type":"blocks","created_at":"2025-12-16T12:16:27.112829-05:00","created_by":"daemon"}]}
{"id":"oaks-nio5","title":"Add input validation for import file paths","description":"MEDIUM: cli/cmd/import_bulk.go:57 reads files without validation. Check file is regular, readable, and within size limits before reading.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-27T14:21:58.221644-05:00","updated_at":"2025-12-27T14:21:58.221644-05:00"}
{"id":"oaks-niv","title":"Convert LandingPage to SvelteKit home route","description":"Convert LandingPage.svelte to routes/+page.svelte:\n- Add svelte:head with 'Quercus Compendium' title\n- Update navigation to use goto() or links\n- Remove callback props, use SvelteKit navigation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:41.752499-05:00","updated_at":"2025-12-17T16:08:34.635392-05:00","closed_at":"2025-12-17T16:08:34.635392-05:00","dependencies":[{"issue_id":"oaks-niv","depends_on_id":"oaks-bfk","type":"blocks","created_at":"2025-12-17T15:24:59.940114-05:00","created_by":"daemon"}]}
{"id":"oaks-nn4","title":"Add maps for species range data","description":"","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-16T10:37:50.743788-05:00","updated_at":"2025-12-16T10:37:50.743788-05:00","dependencies":[{"issue_id":"oaks-nn4","depends_on_id":"oaks-koq","type":"blocks","created_at":"2025-12-16T10:45:30.399571-05:00","created_by":"daemon"},{"issue_id":"oaks-nn4","depends_on_id":"oaks-lbk","type":"blocks","created_at":"2025-12-16T10:45:30.431406-05:00","created_by":"daemon"},{"issue_id":"oaks-nn4","depends_on_id":"oaks-b8o","type":"blocks","created_at":"2025-12-16T10:45:30.46231-05:00","created_by":"daemon"},{"issue_id":"oaks-nn4","depends_on_id":"oaks-xb5","type":"blocks","created_at":"2025-12-16T10:45:30.494164-05:00","created_by":"daemon"},{"issue_id":"oaks-nn4","depends_on_id":"oaks-3nk","type":"blocks","created_at":"2025-12-16T10:45:30.524733-05:00","created_by":"daemon"}]}
{"id":"oaks-nov","title":"Update CLAUDE.md with SQLite architecture decision","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:23:05.468399-05:00","updated_at":"2025-12-14T14:24:41.101215-05:00","closed_at":"2025-12-14T14:24:41.101215-05:00"}
{"id":"oaks-nq6","title":"Consolidate temp files into single tmp/ directory","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:11:10.635162-05:00","updated_at":"2025-12-15T11:22:42.86675-05:00","closed_at":"2025-12-15T11:22:42.86675-05:00"}
{"id":"oaks-o9i","title":"Define taxonomy structure and hierarchy details","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T15:51:46.202303-05:00","updated_at":"2025-12-14T16:36:22.917603-05:00","closed_at":"2025-12-14T16:36:22.917603-05:00"}
{"id":"oaks-oan7","title":"Fix silent error swallowing in Go db.go","description":"Critical: ~15 instances of json.Unmarshal errors silently ignored. Also LastInsertId errors swallowed (line 700). Data corruption fails silently. Pattern: json.Unmarshal(...) with no error check. Fix: Capture and return/log all unmarshal errors.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-27T14:48:08.335648-05:00","updated_at":"2025-12-27T15:58:08.672956-05:00","closed_at":"2025-12-27T15:58:08.672956-05:00"}
{"id":"oaks-oxo","title":"Remove --no-ssl-verify flag from scraper","description":"HIGH: scrapers/oaksoftheworld/scraper.py:68-73 allows disabling SSL verification, enabling MITM attacks. Remove flag entirely.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:21:45.584455-05:00","updated_at":"2025-12-27T16:35:48.435126-05:00","closed_at":"2025-12-27T16:35:48.435126-05:00"}
{"id":"oaks-p2o","title":"Design source comparison UI","description":"Design the UI for source comparison tool.\n\n**Purpose**: Compare what different sources say about the same species, to help curate the preferred source.\n\n**Key decisions**:\n- **Layout**: Field-oriented rows (one row per field: leaves, fruits, etc.) with source columns\n- **Source selection**: Picker to select 2-3 sources to compare (will have 12+ sources for NA oaks)\n- **Missing fields**: Show '—' placeholder when a source lacks data for a field\n- **Entry point**: Button on species detail page → /compare/:species route\n- **Scope**: Single species at a time (v1)\n\n**Navigation note**: Keep distinct from future species comparison tool (oaks-s6p) which compares different species for ID purposes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:14.9537-05:00","updated_at":"2025-12-23T19:37:42.573297-05:00","closed_at":"2025-12-23T19:37:42.573301-05:00"}
{"id":"oaks-p5o","title":"Test SvelteKit migration and fix issues","description":"Comprehensive testing of migrated app:\n- Test all routes and navigation\n- Test browser back/forward\n- Test deep linking (direct URL access)\n- Test search functionality\n- Test PWA installation and offline mode\n- Test GitHub Pages deployment\n- Fix any issues found","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:43.404418-05:00","updated_at":"2025-12-17T16:27:46.550226-05:00","closed_at":"2025-12-17T16:27:46.550226-05:00","dependencies":[{"issue_id":"oaks-p5o","depends_on_id":"oaks-niv","type":"blocks","created_at":"2025-12-17T15:25:01.209958-05:00","created_by":"daemon"},{"issue_id":"oaks-p5o","depends_on_id":"oaks-vzk","type":"blocks","created_at":"2025-12-17T15:25:01.240507-05:00","created_by":"daemon"},{"issue_id":"oaks-p5o","depends_on_id":"oaks-fb8","type":"blocks","created_at":"2025-12-17T15:25:01.271311-05:00","created_by":"daemon"},{"issue_id":"oaks-p5o","depends_on_id":"oaks-6m2","type":"blocks","created_at":"2025-12-17T15:25:01.302479-05:00","created_by":"daemon"},{"issue_id":"oaks-p5o","depends_on_id":"oaks-yzn","type":"blocks","created_at":"2025-12-17T15:25:01.332675-05:00","created_by":"daemon"},{"issue_id":"oaks-p5o","depends_on_id":"oaks-9yx","type":"blocks","created_at":"2025-12-17T15:25:01.363383-05:00","created_by":"daemon"},{"issue_id":"oaks-p5o","depends_on_id":"oaks-p89","type":"blocks","created_at":"2025-12-17T15:25:01.393459-05:00","created_by":"daemon"},{"issue_id":"oaks-p5o","depends_on_id":"oaks-9et","type":"blocks","created_at":"2025-12-17T15:25:01.425799-05:00","created_by":"daemon"}]}
{"id":"oaks-p89","title":"Update dataStore for SvelteKit","description":"Adapt dataStore.js for SvelteKit:\n- Keep existing store pattern (works fine with SvelteKit)\n- Consider using +layout.js load function for initial data fetch\n- Ensure data is loaded before routes that need it\n- Update any navigation-related store logic","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:42.973909-05:00","updated_at":"2025-12-17T16:19:22.833935-05:00","closed_at":"2025-12-17T16:19:22.833935-05:00","dependencies":[{"issue_id":"oaks-p89","depends_on_id":"oaks-5v8","type":"blocks","created_at":"2025-12-17T15:25:00.888241-05:00","created_by":"daemon"}]}
{"id":"oaks-pcu","title":"User interview: data entry pain points","description":"## Interview Summary (2025-12-27)\n\n### Current Workflow\n- Physical books/papers → manual typing via CLI\n- ~5 min per species, 10-15 species per session (~1 hour)\n- Sources: field guides, technical botany books, dichotomous keys (semi-structured)\n- Key book: \"Oaks of North America\" (Miller \u0026 Lamb) - only oak-dedicated book\n\n### Primary Pain Point\n- **Typing is the main bottleneck** - no digital sources to copy from\n\n### Desired Solution\niOS app with field-by-field dictation:\n1. Select/create species entry\n2. Tap field → dictate → next field (Leaves? → Bark? → Acorns? etc.)\n3. Optional: OCR mode for future enhancement (photo → text)\n4. Saves as markdown to iCloud\n5. CLI imports from iCloud folder\n\n### Why Dictation First (vs OCR)\n- Each book is structured differently\n- Dictation is book-agnostic, OCR would need per-book parsing rules\n\n### Constraints\n- iOS only\n- OSS only (no budget for paid APIs)\n- Can deploy via TestFlight (has Apple Dev account)\n- No App Store submission needed\n\n### Proposed Architecture\n- **iOS App**: SwiftUI, Speech framework for dictation, saves markdown to iCloud\n- **CLI Command**: `oak import-notes` reads markdown from iCloud folder\n- **Markdown Format**: Structured with H2 headers per field, species name in H1","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:16:35.882642-05:00","updated_at":"2025-12-27T15:40:19.271883-05:00","closed_at":"2025-12-27T15:40:19.271883-05:00"}
{"id":"oaks-ph4u","title":"Fix scraper dual-output confusion","description":"Scraper outputs to both tmp/scraper/oaksoftheworld.json AND root quercus_data.json. Consolidate to single output path or clarify the workflow. Currently confusing which file is authoritative.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-27T14:43:34.067855-05:00","updated_at":"2025-12-27T14:43:34.067855-05:00"}
{"id":"oaks-pi1","title":"Test and verify offline PWA functionality","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:10:19.888602-05:00","updated_at":"2025-12-19T17:01:17.550652-05:00","closed_at":"2025-12-19T17:01:17.550652-05:00"}
{"id":"oaks-pio","title":"Show other parent species in hybrid detail view","description":"When viewing a species that has hybrids (e.g., Q. alba), the hybrid list should show/link to the other parent species for each hybrid. This information appears to be lost or not displayed.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T18:18:04.860789-05:00","updated_at":"2025-12-15T20:48:31.832072-05:00","closed_at":"2025-12-15T20:48:31.832072-05:00"}
{"id":"oaks-piru","title":"Add CLI oak import-notes command","description":"CLI command to import markdown notes from iCloud folder.\n\n## Usage\n```bash\noak import-notes ~/Library/Mobile\\ Documents/com~apple~CloudDocs/OakNotes/\noak import-notes --dry-run  # preview what would be imported\n```\n\n## Behavior\n1. Scan directory for .md files\n2. Parse markdown (H1 = species, H2 = fields)\n3. Match species to existing entries\n4. Upsert into species_sources with source_id=3 (personal)\n5. Move processed files to 'imported/' subfolder\n\n## Edge Cases\n- Species not found in database\n- Partial entries (some fields only)\n- Duplicate imports (already processed)\n- Invalid markdown format","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T15:41:04.544435-05:00","updated_at":"2025-12-27T15:41:04.544435-05:00","dependencies":[{"issue_id":"oaks-piru","depends_on_id":"oaks-cpe8","type":"blocks","created_at":"2025-12-27T15:41:12.49572-05:00","created_by":"daemon"}]}
{"id":"oaks-pqi","title":"Add unit tests for CLI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T19:16:00.441775-05:00","updated_at":"2025-12-23T18:12:52.693821-05:00","closed_at":"2025-12-23T18:12:52.693821-05:00"}
{"id":"oaks-pt4","title":"Add view toggle to App.svelte","description":"Integrate tree view into app routing and navigation.\n\n**Changes to App.svelte:**\n1. Import TaxonomyTree component\n2. Add browseMode state: 'list' | 'taxonomy'\n3. Add toggle buttons in header (list icon / tree icon)\n4. Update routing: view = 'list' | 'taxonomy' | 'detail'\n5. Use effectiveView = $searchQuery ? 'list' : view (auto-switch to list when searching)\n6. Update history state to include fromView for back navigation\n\n**Toggle button icons:**\n- List: horizontal lines (grid icon)\n- Tree: hierarchical/outline icon\n\n**Search behavior:**\n- When searchQuery is non-empty, show list view\n- When search cleared, return to previous browseMode\n\n**File:** web/src/App.svelte\n\n**Testing checklist (verify after implementation):**\n- [ ] Tree renders all subgenera with correct counts\n- [ ] Expand/collapse works at all levels\n- [ ] Species without subsection shown under section\n- [ ] 'Unknown' subgenus appears last\n- [ ] Click species → detail view\n- [ ] Browser back → returns to tree\n- [ ] Search → auto-switch to list\n- [ ] Clear search → return to tree\n- [ ] View toggle buttons work","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:55:21.431402-05:00","updated_at":"2025-12-15T12:06:52.714474-05:00","closed_at":"2025-12-15T12:06:52.714474-05:00","dependencies":[{"issue_id":"oaks-pt4","depends_on_id":"oaks-jqj","type":"blocks","created_at":"2025-12-15T11:55:27.331107-05:00","created_by":"daemon"}]}
{"id":"oaks-pyz","title":"Add testing infrastructure for web app","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:10:20.035826-05:00","updated_at":"2025-12-23T18:20:47.625569-05:00","closed_at":"2025-12-23T18:20:47.625569-05:00"}
{"id":"oaks-pzc","title":"Update import commands to use species_sources table","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:51:09.14-05:00","updated_at":"2025-12-15T15:00:22.11817-05:00","closed_at":"2025-12-15T15:00:22.11817-05:00","dependencies":[{"issue_id":"oaks-pzc","depends_on_id":"oaks-31a","type":"blocks","created_at":"2025-12-15T14:51:18.297623-05:00","created_by":"daemon"}]}
{"id":"oaks-q3x","title":"Import Oaks of the World scraped data into database","description":"Import the scraped data from oaksoftheworld.fr into the CLI-managed SQLite database. This requires: 1) Mapping scraped fields to database schema, 2) Deciding how to handle inconsistencies between sources (e.g., taxonomy differences, conflicting data), 3) Setting up the 'Oaks of the World' source entry, 4) Handling the morphological text fields (leaves, flowers, fruits, etc.) that don't have structured equivalents in current schema.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T11:46:14.029849-05:00","updated_at":"2025-12-23T18:47:00.481312-05:00","closed_at":"2025-12-23T18:47:00.481312-05:00","dependencies":[{"issue_id":"oaks-q3x","depends_on_id":"oaks-97p","type":"blocks","created_at":"2025-12-15T11:46:19.625528-05:00","created_by":"daemon"}]}
{"id":"oaks-q7i","title":"Add visible focus indicators to all interactive elements","description":"Ensure all buttons, links, and form controls have clear, visible focus indicators that meet WCAG 2.1 AA contrast requirements. Remove outline:none without replacement.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:41.752217-05:00","updated_at":"2025-12-23T18:59:59.527329-05:00","closed_at":"2025-12-23T18:59:59.527329-05:00"}
{"id":"oaks-qby","title":"Add SQLite database export to CLI","description":"","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-14T14:23:05.953826-05:00","updated_at":"2025-12-14T16:51:24.655375-05:00","closed_at":"2025-12-14T16:51:24.655375-05:00","dependencies":[{"issue_id":"oaks-qby","depends_on_id":"oaks-e85","type":"blocks","created_at":"2025-12-14T14:23:15.384634-05:00","created_by":"daemon"}]}
{"id":"oaks-qg8t","title":"Document data contracts with JSON Schema","description":"Create JSON Schema file for quercus_data.json export format. Document species-intrinsic vs source-attributed data distinction. Add schema version to exported JSON. Consider using schema for validation in web app.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-27T14:43:33.84972-05:00","updated_at":"2025-12-27T14:43:33.84972-05:00"}
{"id":"oaks-qhj","title":"Create migration to drop data_points and add species_sources table","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:51:08.804939-05:00","updated_at":"2025-12-15T14:55:43.360518-05:00","closed_at":"2025-12-15T14:55:43.360518-05:00","dependencies":[{"issue_id":"oaks-qhj","depends_on_id":"oaks-1tc","type":"blocks","created_at":"2025-12-15T14:51:18.022442-05:00","created_by":"daemon"}]}
{"id":"oaks-red","title":"Document full data pipeline from CLI to browser","description":"Document the complete data flow:\n\n1. **Data Sources** - Where data comes from (scrapers, manual entry, iNaturalist)\n2. **CLI Database** - How data is imported/created with the CLI tool (oak_compendium.db)\n3. **JSON Export** - How CLI exports to quercus_data.json\n4. **Web App Loading** - How web app fetches JSON and populates IndexedDB\n5. **IndexedDB Role** - Caching, offline support, update detection\n\nAdd documentation to:\n- Top-level README.md (overview section)\n- CLAUDE.md (detailed technical reference)\n- AGENTS.md if relevant\n\nInclude diagrams if helpful.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T17:08:22.318176-05:00","updated_at":"2025-12-15T17:20:28.203612-05:00","closed_at":"2025-12-15T17:20:28.203612-05:00"}
{"id":"oaks-rma","title":"Update export command to use species_sources table","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T14:51:09.314154-05:00","updated_at":"2025-12-15T15:00:22.118563-05:00","closed_at":"2025-12-15T15:00:22.118563-05:00","dependencies":[{"issue_id":"oaks-rma","depends_on_id":"oaks-31a","type":"blocks","created_at":"2025-12-15T14:51:18.437872-05:00","created_by":"daemon"}]}
{"id":"oaks-rpv","title":"Add WASM feature detection with JSON fallback","description":"","notes":"Obsolete - abandoned SQLite WASM approach in favor of IndexedDB","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T14:23:06.297786-05:00","updated_at":"2025-12-14T20:17:16.579411-05:00","closed_at":"2025-12-14T15:41:40.094164-05:00","dependencies":[{"issue_id":"oaks-rpv","depends_on_id":"oaks-2qj","type":"blocks","created_at":"2025-12-14T14:23:15.655693-05:00","created_by":"daemon"}]}
{"id":"oaks-rrg","title":"Test GitHub Pages deployment","description":"Verify the site loads correctly at the GitHub Pages URL. Check that all routes work, data loads, and PWA features function.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T12:16:17.437707-05:00","updated_at":"2025-12-19T16:22:38.832405-05:00","closed_at":"2025-12-19T16:22:38.832405-05:00","dependencies":[{"issue_id":"oaks-rrg","depends_on_id":"oaks-cws","type":"blocks","created_at":"2025-12-16T12:16:26.797442-05:00","created_by":"daemon"}]}
{"id":"oaks-rtg","title":"Add interactive list/browse command to CLI","description":"Expose ListOakEntries via CLI with:\n- Pagination for browsing large datasets\n- Dynamic/interactive search (fuzzy matching, filters)\n- Possibly TUI interface for browsing\n\nRelated to the existing 'oak find' command but more interactive and browsable rather than one-shot search. Needs further design work to determine exact UX.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-15T11:02:39.444392-05:00","updated_at":"2025-12-15T11:02:39.444392-05:00"}
{"id":"oaks-ry7","title":"Extract stable Header component","description":"Extract Header.svelte from App.svelte with stable structure:\n\n**Header contents:**\n- Logo (oak leaf SVG) + title 'Quercus Compendium' + subtitle\n- Search component\n- Clicking logo/title navigates to landing page (home)\n\n**Remove from header:**\n- View toggle buttons (moving to landing page per oaks-8gt)\n- Back button (breadcrumbs handle navigation)\n- All conditional rendering\n\n**Update views:**\n- Detail view: Add breadcrumb navigation in content\n- Remove header back buttons from App.svelte\n- TaxonView breadcrumbs already good","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-15T16:44:13.650634-05:00","updated_at":"2025-12-15T16:47:44.303795-05:00","closed_at":"2025-12-15T16:47:44.303795-05:00"}
{"id":"oaks-s6p","title":"Species comparison tool for identification","description":"Compare multiple species side-by-side to help with field identification. Show key distinguishing features (leaf shape, acorn characteristics, bark, etc.) across selected species. Useful when you've narrowed an ID to 2-3 candidates and need to differentiate.","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-23T19:18:47.234805-05:00","updated_at":"2025-12-23T19:18:55.233976-05:00"}
{"id":"oaks-s9j","title":"Manage focus on route changes (SPA)","description":"When navigating between views in the SPA, focus should move to new content or a heading. Announce route changes to screen readers. Prevent focus from getting lost.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:58.527407-05:00","updated_at":"2025-12-23T19:01:57.997574-05:00","closed_at":"2025-12-23T19:01:57.997574-05:00"}
{"id":"oaks-sugk","title":"Secure YAML deserialization in CLI","description":"HIGH: cli/internal/editor/editor.go:195,344 uses yaml.v3 without safe mode. YAML tags could execute code. Use KnownFields(true) and validate after unmarshaling.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:21:45.98309-05:00","updated_at":"2025-12-27T14:36:57.961933-05:00","closed_at":"2025-12-27T14:36:57.961933-05:00"}
{"id":"oaks-t1o","title":"Sort external links by title and add better icons","description":"UI improvements for external links section on species detail page:\n\n1. Sort external links alphabetically by title/name\n2. Add recognizable icons/logos for known sources:\n   - FNA (Flora of North America)\n   - FEIS (Fire Effects Information System)\n   - Wikipedia\n   - iNaturalist\n   \nCurrently links display in insertion order with no icons.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-23T21:08:22.175386-05:00","updated_at":"2025-12-23T21:13:55.436619-05:00","closed_at":"2025-12-23T21:13:55.436619-05:00"}
{"id":"oaks-t4v","title":"Taxa list tree doesn't show section-level complexes","description":"The 'oak taxa list' command displays a hierarchical tree but only shows complexes nested under subsections. Complexes whose parent is a section (like 'ilex' under section Ilex, 'robur' under section Quercus) don't appear in the tree output. The data is correctly stored in the database, it's just a display issue in cli/cmd/taxa.go runTaxaList().","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-15T10:15:31.763178-05:00","updated_at":"2025-12-15T10:55:57.171316-05:00","closed_at":"2025-12-15T10:55:57.171316-05:00"}
{"id":"oaks-t8h","title":"Design IndexedDB schema for web app","description":"Design IndexedDB schema aligned with SQL schema but optimized for browser queries. Define indexes for search/filter operations using Dexie.js.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-14T16:46:09.077538-05:00","updated_at":"2025-12-14T19:25:56.770116-05:00","closed_at":"2025-12-14T19:25:56.770116-05:00","dependencies":[{"issue_id":"oaks-t8h","depends_on_id":"oaks-ki0","type":"blocks","created_at":"2025-12-14T16:51:24.928996-05:00","created_by":"daemon"}]}
{"id":"oaks-tuf3","title":"Remove dead code and cleanup inconsistencies","description":"1) scraper.py line 97: commented-out code from incomplete refactoring. 2) parser.py lines 385-395: inconsistent null vs empty list handling. 3) utils.py line 22: add comment explaining 0.25s rate limit. 4) scraper.py lines 169-173: catch specific exceptions instead of bare Exception.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-27T14:48:09.939903-05:00","updated_at":"2025-12-27T14:48:09.939903-05:00"}
{"id":"oaks-tzr","title":"Architecture audit","description":"Review overall system architecture, data flow, component boundaries, and design decisions. Identify technical debt and improvement opportunities","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:16:35.685695-05:00","updated_at":"2025-12-27T14:43:44.743674-05:00","closed_at":"2025-12-27T14:43:44.743674-05:00"}
{"id":"oaks-ubf","title":"Data entry workflow improvements","description":"## Overview\nReduce friction in data entry from physical books/papers to the oak database.\n\n## Solution: Oak Notes iOS App\nField-by-field dictation app that saves markdown to iCloud for CLI import.\n\n### Workflow\n1. Open app, select/create species\n2. Tap field (Leaves, Bark, Acorns, etc.) → dictate → next field\n3. Markdown saved to iCloud\n4. CLI `oak import-notes` reads and imports\n\n### Why This Approach\n- Typing is the primary bottleneck (not lookup, not editing)\n- Dictation is book-agnostic (works with any source format)\n- iOS-native Speech framework is free (no API costs)\n- iCloud sync is simple and reliable\n\n### Future Enhancements\n- OCR mode (photo → text extraction)\n- Miller \u0026 Lamb book-specific parsing\n\n### Constraints\n- iOS, OSS only, TestFlight deployment","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-27T14:16:24.743965-05:00","updated_at":"2025-12-27T15:40:28.9368-05:00","dependencies":[{"issue_id":"oaks-ubf","depends_on_id":"oaks-pcu","type":"blocks","created_at":"2025-12-27T14:16:49.445383-05:00","created_by":"daemon"},{"issue_id":"oaks-ubf","depends_on_id":"oaks-updl","type":"blocks","created_at":"2025-12-27T15:41:12.592272-05:00","created_by":"daemon"},{"issue_id":"oaks-ubf","depends_on_id":"oaks-piru","type":"blocks","created_at":"2025-12-27T15:41:12.687248-05:00","created_by":"daemon"}]}
{"id":"oaks-uj5","title":"Add alt text to all images and icons","description":"Ensure all images have appropriate alt text. Decorative images should have empty alt=''. Icons used as buttons need aria-label. SVG icons need proper accessibility attributes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:47:57.646624-05:00","updated_at":"2025-12-23T19:01:03.982298-05:00","closed_at":"2025-12-23T19:01:03.982298-05:00"}
{"id":"oaks-updl","title":"Build Oak Notes iOS app MVP","description":"Build minimal iOS app for field-by-field species dictation.\n\n## Core Features\n1. Species list view (from local storage or manual entry)\n2. Species edit view with field buttons\n3. Tap field → dictation modal → save text\n4. Export to iCloud as markdown\n\n## Tech Stack\n- SwiftUI\n- Speech framework for dictation\n- FileManager + iCloud container for storage\n\n## MVP Scope\n- Single source assumed (personal notes)\n- No OCR (future enhancement)\n- No sync back from CLI (one-way flow)\n\n## Out of Scope for MVP\n- Species lookup/autocomplete\n- Photo attachment\n- OCR\n- Offline species database","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T15:40:56.18689-05:00","updated_at":"2025-12-27T15:40:56.18689-05:00","dependencies":[{"issue_id":"oaks-updl","depends_on_id":"oaks-cpe8","type":"blocks","created_at":"2025-12-27T15:41:12.295243-05:00","created_by":"daemon"},{"issue_id":"oaks-updl","depends_on_id":"oaks-apqj","type":"blocks","created_at":"2025-12-27T15:41:12.395315-05:00","created_by":"daemon"},{"issue_id":"oaks-updl","depends_on_id":"oaks-xk6v","type":"blocks","created_at":"2025-12-27T16:06:05.376107-05:00","created_by":"daemon"}]}
{"id":"oaks-v9od","title":"Add null safety checks in web dataStore.js","description":"Line 70 accesses source.local_names without null guard. filteredSpecies assumes all species have sources array. Fix: Add defensive checks like (species.sources || []).some(...)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-27T14:48:08.797034-05:00","updated_at":"2025-12-27T16:35:48.440569-05:00","closed_at":"2025-12-27T16:35:48.440569-05:00"}
{"id":"oaks-vq2","title":"Add source attribution display with name and external link","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T15:17:31.973053-05:00","updated_at":"2025-12-15T16:22:41.32394-05:00","closed_at":"2025-12-15T16:22:41.32394-05:00"}
{"id":"oaks-vwou","title":"Sanitize error messages to avoid info leakage","description":"MEDIUM: cli/internal/editor/editor.go:98 includes $EDITOR path in error messages. Remove sensitive info from user-facing errors.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-27T14:21:58.633006-05:00","updated_at":"2025-12-27T14:21:58.633006-05:00"}
{"id":"oaks-vzk","title":"Convert AboutPage to SvelteKit route","description":"Convert AboutPage.svelte to routes/about/+page.svelte:\n- Add svelte:head with 'About - Quercus Compendium' title\n- Straightforward conversion, minimal changes needed","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:41.950502-05:00","updated_at":"2025-12-17T16:08:34.66754-05:00","closed_at":"2025-12-17T16:08:34.66754-05:00","dependencies":[{"issue_id":"oaks-vzk","depends_on_id":"oaks-bfk","type":"blocks","created_at":"2025-12-17T15:25:00.089554-05:00","created_by":"daemon"}]}
{"id":"oaks-wlz","title":"External links feature for species","description":"Add external links to species entries to connect to Wikipedia, iNaturalist, Flora of North America, FEIS, etc.\n\nArchitecture decision:\n- Universal links (Wikipedia, iNaturalist search): Hardcode URL patterns in UI, construct on the fly\n- Limited-coverage sites (FNA, FEIS): Would need per-species tracking if we add these later\n\nStart simple with universal links, add coverage tracking infrastructure only if needed.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-23T12:13:02.84894-05:00","updated_at":"2025-12-23T12:13:02.84894-05:00","dependencies":[{"issue_id":"oaks-wlz","depends_on_id":"oaks-iji","type":"blocks","created_at":"2025-12-23T12:13:24.213529-05:00","created_by":"daemon"},{"issue_id":"oaks-wlz","depends_on_id":"oaks-ze3","type":"blocks","created_at":"2025-12-23T12:13:24.312933-05:00","created_by":"daemon"}]}
{"id":"oaks-xb5","title":"Implement map component","description":"Create a reusable map component (Leaflet or MapLibre) that can highlight arbitrary administrative regions. Should load boundary data efficiently and support zoom/pan.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-16T10:45:14.596084-05:00","updated_at":"2025-12-16T10:45:14.596084-05:00","dependencies":[{"issue_id":"oaks-xb5","depends_on_id":"oaks-koq","type":"blocks","created_at":"2025-12-16T10:45:30.027136-05:00","created_by":"daemon"}]}
{"id":"oaks-xjul","title":"Improve error handling across components","description":"Scraper: Add structured error logging with severity levels. CLI: Implement rollback for partial bulk imports. Web: Validate JSON schema before IndexedDB population. Add retry logic with exponential backoff for network requests.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T14:43:33.428615-05:00","updated_at":"2025-12-27T14:43:33.428615-05:00"}
{"id":"oaks-xk6v","title":"iOS: Polish and TestFlight","description":"App icon. Onboarding flow. Error handling. TestFlight build.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T16:05:56.446365-05:00","updated_at":"2025-12-27T16:05:56.446365-05:00","dependencies":[{"issue_id":"oaks-xk6v","depends_on_id":"oaks-xzc7","type":"blocks","created_at":"2025-12-27T16:06:05.272735-05:00","created_by":"daemon"}]}
{"id":"oaks-xzc7","title":"iOS: iCloud export","description":"Implement MarkdownService matching Bear format. CloudExportService with UIDocumentPicker. Export confirmation and tracking.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-27T16:05:56.222799-05:00","updated_at":"2025-12-27T16:05:56.222799-05:00","dependencies":[{"issue_id":"oaks-xzc7","depends_on_id":"oaks-07sg","type":"blocks","created_at":"2025-12-27T16:06:05.168872-05:00","created_by":"daemon"}]}
{"id":"oaks-y76","title":"Clean up console debug output","description":"Remove or conditionalize console.log/console.warn statements used during development. Keep only essential error logging.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T12:08:45.336913-05:00","updated_at":"2025-12-15T21:54:08.679992-05:00","closed_at":"2025-12-15T21:54:08.679992-05:00"}
{"id":"oaks-y8q","title":"Security audit of codebase","description":"Review codebase for security vulnerabilities including OWASP top 10, injection risks, authentication issues, and data exposure risks","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-27T14:16:35.286389-05:00","updated_at":"2025-12-27T14:22:07.705884-05:00","closed_at":"2025-12-27T14:22:07.705884-05:00"}
{"id":"oaks-yd3","title":"Fix command injection risk in editor selection","description":"CRITICAL: cli/internal/editor/editor.go:92 executes $EDITOR without validation. Attacker controlling env can run arbitrary commands. Validate editor path before exec.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-27T14:21:45.386539-05:00","updated_at":"2025-12-27T15:58:08.672302-05:00","closed_at":"2025-12-27T15:58:08.672302-05:00"}
{"id":"oaks-yu4","title":"Remove 'Unknown' taxa grouping from taxonomy tree","description":"Currently species without a subgenus/section are grouped under 'Unknown'. Instead, species should be shown directly under their parent taxon level without creating artificial 'Unknown' intermediate nodes. A species directly in a Section (without subsection) as a sibling to child subsections is fine - we just don't want 'Unknown' appearing as a taxon name.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T12:15:59.19705-05:00","updated_at":"2025-12-15T12:19:05.400404-05:00","closed_at":"2025-12-15T12:19:05.400404-05:00"}
{"id":"oaks-yzn","title":"Convert TaxonView to SvelteKit dynamic route","description":"Convert TaxonView to SvelteKit dynamic route\n\nDONE:\n- Created src/routes/taxonomy/[...path]/+page.svelte\n\nTODO:\n- Update TaxonView.svelte imports (./dataStore.js -\u003e $lib/stores/dataStore.js)\n- Remove onSelectSpecies, onNavigateToTaxon, onGoHome props\n- Convert breadcrumb buttons to \u003ca\u003e links\n- Convert sub-taxon buttons to \u003ca\u003e links  \n- Convert species buttons to \u003ca\u003e links\n- Add text-decoration: none to link styles","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T15:24:42.559001-05:00","updated_at":"2025-12-17T16:17:32.252027-05:00","closed_at":"2025-12-17T16:17:32.252027-05:00","dependencies":[{"issue_id":"oaks-yzn","depends_on_id":"oaks-bfk","type":"blocks","created_at":"2025-12-17T15:25:00.558629-05:00","created_by":"daemon"}]}
{"id":"oaks-ze3","title":"Script to populate external links for species","description":"Script to bulk-add external links to species entries.\n\n## URL Pattern Research\n\n| Site | Pattern | Constructable? | Notes |\n|------|---------|----------------|-------|\n| Wikipedia | https://en.wikipedia.org/wiki/Quercus_{name} | ✅ Yes | Replace spaces with _ |\n| Flora of North America | https://floranorthamerica.org/Quercus_{name} | ✅ Yes | N. American species only |\n| FEIS | https://www.fs.usda.gov/database/feis/plants/tree/que{3letters}/all.html | ⚠️ Partial | e.g. quealb for alba, limited coverage |\n| iNaturalist | https://www.inaturalist.org/taxa/{ID}-Quercus-{species} | ❌ No | Needs numeric ID lookup |\n| GBIF | https://www.gbif.org/species/{ID} | ❌ No | Needs numeric ID lookup |\n| POWO | https://powo.science.kew.org/taxon/urn:lsid:ipni.org:names/{ID} | ❌ No | Needs IPNI ID lookup |\n| USDA Plants | https://plants.usda.gov/home/plantProfile?symbol={CODE} | ❌ No | Needs symbol code lookup |\n\nSearch URL alternatives for ID-based sites:\n- iNaturalist: https://www.inaturalist.org/search?q=Quercus+{name}\n- GBIF: https://www.gbif.org/species/search?q=Quercus%20{name}\n\n## Future: Online Herbaria\n\nWould like to include links to online herbaria collections. Need to research URL patterns for:\n- JSTOR Global Plants\n- SEINet\n- iDigBio\n- Consortium of California Herbaria (CCH2)\n- Others?\n\n## Design Thinking\n\nRather than store full URLs per-species, consider:\n\n1. **External links are conceptually like sources** - online references we link to but don't extract data from\n2. **Store resource definitions separately** - name, URL pattern, coverage scope\n3. **Mark which species are in which resource** - similar to species_sources junction\n4. **Construct URLs on the fly in UI** - from pattern + species name\n\nThis approach:\n- Normalizes URL patterns (update once if site changes)\n- Cleaner species data (stores relationships, not URLs)\n- Could extend existing sources table (add url_pattern, mark as external_link type)\n\n## Simplified Approach (Current Plan)\n\nSplit into two categories:\n\n**Universal links** (always show, construct in UI - no DB needed):\n- Wikipedia, iNaturalist search\n\n**Limited-coverage links** (need per-species tracking):\n- FNA, FEIS, herbaria, etc. - only show if species is known to be in that resource\n\nStart with universal links (oaks-iji ✅ DONE), add coverage tracking infrastructure later if needed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-23T11:57:08.711556-05:00","updated_at":"2025-12-23T20:45:58.233525-05:00","closed_at":"2025-12-23T20:45:58.233525-05:00"}
{"id":"oaks-zgi","title":"Migrate web app to SvelteKit","description":"Replace manual routing in App.svelte with SvelteKit's file-based routing. This will provide proper page title management, cleaner navigation, and better scalability as we add more pages.\n\nBenefits:\n- File-based routing eliminates ~150 lines of manual routing code\n- Built-in page title management via svelte:head\n- Navigation becomes simple \u003ca\u003e tags instead of custom handlers\n- Better code organization as app grows\n- SSR/prerendering available if ever needed\n\nSee discussion in oaks-db6 for context.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-17T15:24:18.097727-05:00","updated_at":"2025-12-17T16:30:12.597966-05:00","closed_at":"2025-12-17T16:30:12.597966-05:00","dependencies":[{"issue_id":"oaks-zgi","depends_on_id":"oaks-6c8","type":"blocks","created_at":"2025-12-17T15:25:01.750124-05:00","created_by":"daemon"}]}
{"id":"oaks-zp6","title":"Update cli/README.md for Go implementation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T14:04:39.442439-05:00","updated_at":"2025-12-19T14:11:46.546781-05:00","closed_at":"2025-12-19T14:11:46.546781-05:00"}
